"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[61898,19786,45453,69111,23331,35788,2987,52146,13482,29721,33812,7762,1175,19020,92725,1993,84147],{13713:function(n,r,e){e.d(r,{$9:function(){return o},Ww:function(){return i},tA:function(){return a},f8:function(){return u},sj:function(){return c}});var t=e(67294);function o(n){return Boolean("object"==typeof n&&null!==n&&"NamedContainer"===n.props.is&&n.props.name)}function i(n){return t.Children.toArray(n).reduce((function(n,r){if(o(r)){if("children"!==r.props.name){var e;return Object.assign({},n,((e={})[r.props.name]=r.props.children,e))}}else n.children.push(r);return n}),{children:[]})}function a(n){return t.Children.toArray(n).reduce((function(n,r){var e;return o(r)?Object.assign({},n,((e={})[r.props.name]=r.props.children,e)):n}),{})}function u(n){return(0,t.useMemo)((function(){return i(n)}),[n])}function c(n){return(0,t.useMemo)((function(){return a(n)}),[n])}},27236:function(n,r,e){e.r(r),e.d(r,{PersonalizationProvider:function(){return u}});var t=e(42739),o=e(67294),i=e(13713),a=e(67378),u=(0,t.o)({})((function(n){var r=n.children,e=n.collectorData,t=(e=void 0===e?{personalTags:[]}:e).personalTags,u=void 0===t?[]:t,c=n.id,s=n.isAnalitycsEnabled,l=void 0!==s&&s,f=n.limit,d=void 0===f?1/0:f,p=n.personalization,h=void 0===p||p,v=function(n){var r=a.Z.get("reward_hash");return(0,o.useCallback)((function(e){var t=e.tagGroupId;if(n&&r&&(window||self).__CLIENT_ENV__.BANDIT_URL&&void 0!==t){var o=[(window||self).__CLIENT_ENV__.BANDIT_URL,t,r].join("/");navigator.sendBeacon?navigator.sendBeacon(o):fetch(o).catch((function(n){return console.error("не получилось послать запрос",n)}))}}),[n,r])}(l);if(!h)return o.createElement(o.Fragment,null,r);var _=function(n){return o.Children.toArray(n).map((function(n){var r=n;return(0,i.$9)(r)&&r.props.name?{child:r,isPersonalContainer:!0,personalName:r.props.name}:{child:r,isPersonalContainer:!1}}))}(r),m=[],g=[],E=0,A=u.find((function(n){return n.tagGroupId===c}));return _.forEach((function(n){n.isPersonalContainer&&A?function(){for(var r=A.tagGroupId,e=A.tags,t=null;!t&&E<e.length;)t=_.find((function(n){return n.personalName&&e[E]===n.personalName})),E+=1;if(t){var i=e[E-1],a=o.createElement("div",{key:i,ref:function(n){null==n||n.addEventListener("click",(function(n){!function(n){var r=n.event,e=n.tagGroupId,t=r.target;(t.closest("a")||t.closest("button"))&&v({tagGroupId:e})}({event:n,tagGroupId:r})}))}},t.child);m.push(a),n&&!e.includes(n.personalName)&&g.push(n)}else if(g.length){var u=g.shift();u&&m.push(u.child)}else m.push(n.child)}():m.push(n.child)})),o.createElement(o.Fragment,null,m.slice(0,d).map((function(n){return o.cloneElement(n,Object.assign({},n.props))})))}))}}]);
//# sourceMappingURL=PersonalizationProvider.5babc030.es5.js.map