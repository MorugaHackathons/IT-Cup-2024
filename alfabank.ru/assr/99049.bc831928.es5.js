"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[99049],{46588:function(e,n,t){t.d(n,{L:function(){return c}});var r=t(87462),o=t(63366),a=t(67294),u=t(72473),i=t(42883),s=["name","value"],c=a.memo((function(e){var n=e.Field,t=e.PhoneInput,c=e.className,l=e.customValidates,f=e.formatRules,p=e.getCaption,d=e.hasPlaceholderMask,m=e.hideStatusIcon,h=e.initialValue,v=e.isError,g=e.isNextFocus,y=void 0===g||g,S=e.isRequired,k=void 0===S||S,A=e.isSuccess,b=e.mask,E=e.name,F=e.placeholderNumberSymbol,x=e.queryName,N=e.settings,w=e.updateIsEmpty,C=e.validatePhone;return a.createElement(n,{data:N,dispatchesFocus:!0,initialValue:h,name:E,receivesFocus:!0,render:function(e){var n=e.input,h=e.meta,g=n.name,S=n.value,E=(0,o.Z)(n,s),I=N.noBrackets?["noBrackets"]:f,R=I?E:n;return a.createElement("div",{className:c},a.createElement(t,(0,r.Z)({},R,{caption:p(h,N.caption,S),dataTestId:N.dataTestId,error:v(h,S),forwardedRef:u.I.getRef(h),hasPlaceholderMask:d,hideStatusIcon:m,mask:b,onBlur:function(){k||"+7 ("!==S||u.I.onChange(n)(""),u.I.onBlur(n)()},onCancel:u.I.onCancel({input:n,meta:h}),onChange:function(e){var t=e.value;u.I.onChange(n)(String(t)),y&&!C(k,l)(String(t))&&u.I.onComplete({input:n,meta:h})},onFocus:u.I.onFocus(n),placeholder:N.placeholder,placeholderNumberSymbol:F,queryName:x,success:A(h),type:"tel",updateIsEmpty:w,value:S})),I&&a.createElement("input",{name:g,type:"hidden",value:(0,i.M)(S,I)}))},validate:C(k,l)})}))},42883:function(e,n,t){t.d(n,{M:function(){return s},a:function(){return c}});var r=t(67835),o=t(53020),a=t(47370),u={noBrackets:"()",onlyNumbers:"()+-\\s"},i=function(e){return(0,o.G)((0,r.H)(e),a.mT)},s=function(e,n){return n.reduce((function(e,n){var t=new RegExp("["+u[n]+"]","g");return e.replace(t,"")}),e)},c=function(e,n){return void 0===e&&(e=!0),function(t){if(t||!t&&e)return n?o.A.apply(void 0,[i].concat(function(e){return e.map((function(e){return function(n){var t=e.regExp,r=e.textError,a=new RegExp(t).test(n);return(0,o.G)(a,r)}}))}(n)))(t):(0,r.n)()(t)}}},72473:function(e,n,t){t.d(n,{I:function(){return r}});var r=function(){};r.onBlur=function(e){return function(){return e.onBlur()}},r.onFocus=function(e){return function(){return setTimeout((function(){return e.onFocus()}),0)}},r.onChange=function(e,n){return function(t){e.onChange(t),"boolean"==typeof t&&(r.onBlur(e)(),t&&n&&r.onComplete({input:e,meta:n}))}},r.onComplete=function(e){var n,t;r.onBlur(e.input)(),null!=(n=e.meta.data)&&n.dispatchesFocus&&(null==(t=e.meta.data)||null==t.onComplete||t.onComplete(e.input.name))},r.onSelect=function(e){return function(n){r.onChange(e.input)(n),r.onComplete(e)}},r.onCancel=function(e){return function(){var n=r.getRef(e.meta).current;n&&n.focus()}},r.getRef=function(e){var n,t;return null!==(n=null==(t=e.data)?void 0:t.ref)&&void 0!==n?n:{}},r.updateAction=function(e,n){var t;return null==(t=e.data)||null==t.onUpdateFormAction?void 0:t.onUpdateFormAction(n)},r.getNames=function(e){return Array.isArray(e)?Object.assign.apply(Object,[{}].concat(e)):e},r.getValue=function(e,n,t){var r=function(t){return String.prototype.split.call(n,t).filter(Boolean).reduce((function(e,n){return null!=e?e[n]:e}),e)},o=r(/[,[\]]+/)||r(/[,.[\]]+/);return void 0===o||o===e?t:o}},83834:function(e,n,t){t.d(n,{g:function(){return s}});var r=t(87462),o=t(63366),a=t(67294),u=t(66688),i=["data","dispatchesFocus","name","receivesFocus","render"],s=function(e){var n=e.data,t=e.dispatchesFocus,s=e.name,c=e.receivesFocus,l=e.render,f=(0,o.Z)(e,i),p=(0,u.cI)().mutators,d=(0,a.useRef)(null);return a.createElement(u.gN,(0,r.Z)({},f,{data:Object.assign({dispatchesFocus:t,onComplete:p.onComplete,onUpdateFormAction:p.onUpdateFormAction,receivesFocus:c,ref:d},n),name:s,render:l}))}},67835:function(e,n,t){t.d(n,{H:function(){return i},n:function(){return s}});var r=t(47370),o=t(34819),a=t(53020),u=["70000000000","71111111111","72222222222","73333333333","74444444444","75555555555","76666666666","77777777777","78888888888","79999999999","70987654321","71234567890","70123456789","79876543210"],i=function(e){return(0,r.kj)(e,u)},s=function(e){return(0,a.A)((n=e,function(e){return(0,a.G)(i(e),r.mT,n)}),(0,o.o)());var n}},47370:function(e,n,t){t.d(n,{mT:function(){return o},kj:function(){return a}});var r=t(6454),o="Телефон указан неверно. Должно быть 11 цифр, например: +7 (901) 123-45-67",a=function(e,n){void 0===n&&(n=[]);var t=(0,r.L)(e);return 11===t.length&&(!["0","1","2","5"].includes(t[1])&&!n.some((function(e){return e===t})))}},59964:function(e,n,t){var r=t(47418),o=t(57129),a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,i=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function s(e){return(e||"").toString().replace(i,"")}var c=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function f(e){var n,r=("undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{}).location||{},o={},u=typeof(e=e||r);if("blob:"===e.protocol)o=new d(unescape(e.pathname),{});else if("string"===u)for(n in o=new d(e,{}),l)delete o[n];else if("object"===u){for(n in e)n in l||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=a.test(e.href))}return o}function p(e){e=s(e);var n=u.exec(e);return{protocol:n[1]?n[1].toLowerCase():"",slashes:!!n[2],rest:n[3]}}function d(e,n,t){if(e=s(e),!(this instanceof d))return new d(e,n,t);var a,u,i,l,m,h,v=c.slice(),g=typeof n,y=this,S=0;for("object"!==g&&"string"!==g&&(t=n,n=null),t&&"function"!=typeof t&&(t=o.parse),n=f(n),a=!(u=p(e||"")).protocol&&!u.slashes,y.slashes=u.slashes||a&&n.slashes,y.protocol=u.protocol||n.protocol||"",e=u.rest,u.slashes||(v[3]=[/(.*)/,"pathname"]);S<v.length;S++)"function"!=typeof(l=v[S])?(i=l[0],h=l[1],i!=i?y[h]=e:"string"==typeof i?~(m=e.indexOf(i))&&("number"==typeof l[2]?(y[h]=e.slice(0,m),e=e.slice(m+l[2])):(y[h]=e.slice(m),e=e.slice(0,m))):(m=i.exec(e))&&(y[h]=m[1],e=e.slice(0,m.index)),y[h]=y[h]||a&&l[3]&&n[h]||"",l[4]&&(y[h]=y[h].toLowerCase())):e=l(e);t&&(y.query=t(y.query)),a&&n.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==n.pathname)&&(y.pathname=function(e,n){if(""===e)return n;for(var t=(n||"/").split("/").slice(0,-1).concat(e.split("/")),r=t.length,o=t[r-1],a=!1,u=0;r--;)"."===t[r]?t.splice(r,1):".."===t[r]?(t.splice(r,1),u++):u&&(0===r&&(a=!0),t.splice(r,1),u--);return a&&t.unshift(""),"."!==o&&".."!==o||t.push(""),t.join("/")}(y.pathname,n.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(l=y.auth.split(":"),y.username=l[0]||"",y.password=l[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}d.prototype={set:function(e,n,t){var a=this;switch(e){case"query":"string"==typeof n&&n.length&&(n=(t||o.parse)(n)),a[e]=n;break;case"port":a[e]=n,r(n,a.protocol)?n&&(a.host=a.hostname+":"+n):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=n,a.port&&(n+=":"+a.port),a.host=n;break;case"host":a[e]=n,/:\d+$/.test(n)?(n=n.split(":"),a.port=n.pop(),a.hostname=n.join(":")):(a.hostname=n,a.port="");break;case"protocol":a.protocol=n.toLowerCase(),a.slashes=!t;break;case"pathname":case"hash":if(n){var u="pathname"===e?"/":"#";a[e]=n.charAt(0)!==u?u+n:n}else a[e]=n;break;default:a[e]=n}for(var i=0;i<c.length;i++){var s=c[i];s[4]&&(a[s[1]]=a[s[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var n,t=this,r=t.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var a=r+(t.slashes?"//":"");return t.username&&(a+=t.username,t.password&&(a+=":"+t.password),a+="@"),a+=t.host+t.pathname,(n="object"==typeof t.query?e(t.query):t.query)&&(a+="?"!==n.charAt(0)?"?"+n:n),t.hash&&(a+=t.hash),a}},d.extractProtocol=p,d.location=f,d.trimLeft=s,d.qs=o,e.exports=d},89425:function(e,n,t){t.d(n,{rn:function(){return r},gu:function(){return o}});var r=function(e,n){return n.slice(e.length)},o=function(e,n){return!n.includes(e)}},25525:function(e,n,t){t.d(n,{s:function(){return x}});var r=t(45761),o=t(26229),a=t(87462),u=t(63366),i=t(67294),s=t(89425),c=t(6454),l="*",f=[/^88/,/^89/,/^7/],p=function(){},d=function(e){return/\d/.test(e)||e===l},m=function(e,n){var t=Array.from(e).findIndex((function(e){return e===n}));return e.slice(0,t)},h=function(e,n,t){return n!==l?[].concat(e,[t]):e},v=function(e){var n=e.split(""),t=n.reduce(h,[]),r=n.filter(d),o=function(e,n){var t=-1;return Array.from(e,(function(e,r){return d(e)?(t+=1,(0,s.gu)(r,n)?t:null):null})).filter((function(e){return null!==e}))}(e,t),a=r.length-(Math.max.apply(Math,o)+1);return{maskFull:{asArray:n,asString:e,permanents:t},maskNumbers:{asArray:r,asString:r.join(""),editables:o,tailLength:a},lastEditablePosition:e.length,prefix:m(e,l)}},g=function(e){return function(n,t){var r=Math.min(n.length-t.length,0);if(!r)return n;var o=function(e,n){return Math.min.apply(Math,n.maskFull.permanents.filter((function(t){return t-e>=0&&d(n.maskFull.asArray[t])&&n.maskFull.asArray[t]!==l})))}(Array.from(t).findIndex((function(e,t){return e!==n[t]}))+1,e)+r;return n.slice(0,o)}},y=function(e,n){var t=e.maskNumbers,r=e.prefix,o=(0,c.L)(n),a=Array.from(o);if(function(e,n){var t=e.join(""),r=e.length>n,o=f.some((function(e){return e.test(t)}));return r&&o}(a,t.asString.length-t.tailLength)){a.splice(0,(0,c.L)(r).length);var u=a.length===t.asString.length&&f.some((function(e){return e.test(a.join(""))}));(function(e,n){var t=n.slice(1);return!(t.length===e.length)||t.every((function(n,t){return n===l||n===e[t]}))})(a.slice(u?1:0),t.asArray)||a.splice(0),a.length&&!u&&a.unshift("7")}return a},S=function(e){var n,t;return{start:null==(n=e.current)?void 0:n.selectionStart,end:null==(t=e.current)?void 0:t.selectionEnd}},k=function(e){var n=e.hasFocus,t=e.inputRef,r=e.isDeleting,o=e.maskOptions,a=e.position,u=function(e){var n=e.maskOptions.maskFull,t=e.position,r=t?n.asArray.slice(t-1):n.asArray,o=!1,a=r.findIndex((function(e,n,t){e===l&&(o=!0);var r=void 0===t[n+1]||t[n+1]===l;return o&&r})),u=a>=0?a:r.length;return t?t+u:u}(e);(0,i.useEffect)((function(){if(n.current){var e=t.current;if(e){var o=e.selectionStart;o&&o===u&&!r?e.setSelectionRange(o,o):a&&r?e.setSelectionRange(a,a):u&&e.setSelectionRange(u,u)}}}),[a,t,o,n,u,r])},A=t(59964),b=t.n(A);var E=function(e){var n=(0,i.useMemo)((function(){return v(e)}),[e]),t=(0,i.useMemo)((function(){return function(e){return function(n){var t=e.maskFull,r=e.maskNumbers,o=e.prefix,a=y(e,n).filter((function(e,n){return r.editables.includes(n)})),u=!1;return t.asArray.reduce((function(e,n,r){var i=(0,s.gu)(r,t.permanents),c=0===a.length&&r>o.length-1;return c&&u?e:c&&i?(u=!0,e):""+e+(i&&a.shift()||n)}),"")}}(n)}),[n]),r=(0,i.useMemo)((function(){return g(n)}),[n]);return{maskOptions:n,formatValue:t,removeMaskNumbersAfterDeletedSymbol:r}},F=["Input","dataTestId","forwardedRef","mask","onCancel","onChange","onKeyDown","placeholderNumberSymbol","styles","queryName","value","hasPlaceholderMask","updateIsEmpty"],x=(0,r.A)({Input:o.I,styles:{wrapper:"aNr7J",placeholderWrapper:"bNr7J",placeholderHidden:"cNr7J"}})((function(e){var n,t=e.Input,r=e.dataTestId,o=void 0===r?"phoneInput":r,c=e.forwardedRef,f=e.mask,d=void 0===f?"+7 (***) ***-**-**":f,m=e.onCancel,h=void 0===m?p:m,v=e.onChange,g=void 0===v?p:v,y=e.onKeyDown,A=void 0===y?p:y,x=e.placeholderNumberSymbol,N=e.styles,w=e.queryName,C=e.value,I=e.hasPlaceholderMask,R=e.updateIsEmpty,L=(0,u.Z)(e,F),D=E(d),M=D.formatValue,B=D.maskOptions,q=D.removeMaskNumbersAfterDeletedSymbol,O=(0,i.useState)((function(){return M(String(C||B.prefix))})),j=O[0],_=O[1],T={start:n=B.prefix.length,end:n},P=c||(0,i.createRef)(),Z=(0,i.useRef)(!1),U=(0,i.useRef)(!1),H=(0,i.useRef)(T),V=H.current.start,K=Z.current;k({hasFocus:U,position:V,inputRef:P,maskOptions:B,isDeleting:K}),function(e,n){(0,i.useEffect)((function(){var t=e.current,r=function(){if(t&&null!==t.selectionStart&&t.selectionStart<n.length){var e=n.length,r=t.selectionEnd||0,o=r<e?e:r;t.setSelectionRange(e,o)}};return t&&(t.addEventListener("select",r),t.addEventListener("click",r)),function(){t&&(t.removeEventListener("select",r),t.removeEventListener("click",r))}}),[])}(P,B.prefix);var z=(0,i.useMemo)((function(){return function(e,n,t){return void 0===t&&(t="0"),Array.from(e,(function(e){return e===n?t:e})).join("")}(B.maskFull.asString,l,x)}),[B.maskFull.asString,x]),G=(0,i.useMemo)((function(){return(0,s.rn)(j,z)}),[j,z]),J=function(e){var n=e.event,t=e.name,r=e.value,o=String(r);o.startsWith(B.prefix)||(o=B.prefix.concat(o));var a=j!==B.prefix,u=o.toString().length>B.maskFull.asString.length;if(!a||!u){var i=q(o,j),s=M(i);_(s),H.current=""===C||C===B.prefix?function(e){return{start:e.length,end:e.length}}(s):S(P),g({value:s,name:t,event:n}),null==n||null==n.preventDefault||n.preventDefault()}},W=function(e){var n=P.current;if(Z.current=!0,!((null==n?void 0:n.selectionStart)!==(null==n?void 0:n.selectionEnd))){e.preventDefault();var t=function(e){var n=e.input,t=e.maskOptions,r=t.maskFull,o=t.prefix.length,a=Number(null==n?void 0:n.selectionEnd)-1;if(!(a<o)){for(var u=a;u>o&&r.permanents.includes(u);)u-=1;return u}}({input:n,maskOptions:B}),r=t?j.slice(0,t)+j.slice(t+1):j;t&&(null==n||n.setSelectionRange(t,t)),J({value:r,event:e,name:""})}};return(0,i.useEffect)((function(){var e=R&&""===C,n=String(C).length>=B.prefix.length;C!==j&&(C?n:e)&&J({name:L.name,value:String(C)})}),[C]),function(e,n,t){void 0===e&&(e=""),void 0===n&&(n=""),(0,i.useEffect)((function(){if(e){var r,o=new(b())(window.location.toString(),{},!0).query,a="+"+decodeURIComponent(null!==(r=o[e])&&void 0!==r?r:"").slice(1).replace(/\+/g," ");/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(a)&&t({name:n,value:a})}}),[])}(w,L.name,J),i.createElement("div",{className:N.wrapper},I&&i.createElement("div",{className:N.placeholderWrapper},i.createElement("span",{className:N.placeholderHidden},j),G),i.createElement(t,(0,a.Z)({dataTestId:o,forwardedRef:P,type:"tel"},L,{onBlur:function(e){var n=L.onBlur;U.current=!1,null==n||n(e)},onCancel:function(e){var n=M("");_(n),h(e)},onChange:J,onFocus:function(e){var n=L.onFocus;U.current=!0,null==n||n(e)},onKeyDown:function(e){var n=B.prefix,t=e.event,r=e.name,o=e.value,a=t.key,u=t.target.selectionStart,i=Number(u)<=n.length;H.current=S(P),"ArrowLeft"===a&&i&&t.preventDefault(),"Backspace"===a?W(t):Z.current=!1,A({event:t,name:r,value:String(o)})},value:j})))}))}}]);
//# sourceMappingURL=99049.bc831928.es5.js.map