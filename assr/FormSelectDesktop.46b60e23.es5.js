"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[50209,38749,19786,35624,45453,69111,23331,2987,75557,13482,29721,33812,74855,1175,19020,37511,41934,40449],{63632:function(e,n,t){t.r(n),t.d(n,{FormSelectDesktop:function(){return a}});var r=t(45761),o=t(83834),i=t(4159),u=t(85172),a=(0,r.A)({Field:o.g,BaseSelect:i.SelectV2Desktop})(u.P)},85172:function(e,n,t){t.d(n,{P:function(){return v}});var r,o=t(87462),i=t(67294),u=function(e,n){return t=e.map((function(e){return e[n]||e.key})),JSON.stringify(t);var t},a=function(e,n){var t=[];return n||0===n?(e.forEach((function(e){!function(e){return Boolean(e.options)}(e)?t.push(e):e.options.forEach((function(e){t.push(e)}))})),[t[n]||t[0]]):[]},l="maxCount",c="minCount",s=function(e){return function(n,t,r){var o;switch(e){case l:o=t.maxCount&&n.length>t.maxCount.value;break;case c:o=t.minCount&&n.length<t.minCount.value}return Boolean(r&&n.length&&o)}},d=((r={}).isRequired=function(e,n){return Boolean(!e.length&&n.isRequired)},r.minCount=s(c),r.maxCount=s(l),r),f=function(e,n,t,r){return void 0===t&&(t=undefined),void 0===r&&(r="Поле заполнено не верно"),function(o){var i=[];return e&&(i=Object.keys(e)),e?i.reduce((function(t,i){return d[i](o,e,n)?function(e){var n=e.errorMessage,t=e.value;return null==n?void 0:n.replace("/%%value%%/g",String(t))}(Object.assign({},e[i]))||r:t}),t):t}},p={id:"key",key:"key",label:"content",content:"content"},m=function(e){var n=e.initialValueIndex,t=e.multiple,r=e.options,o=e.validationRules,u=e.valueKey,l=(0,i.useMemo)((function(){return r.map((function(e){return function(e){return Boolean(e.id)}(e)?Object.assign({},e,{key:e.id,content:e.label}):e}))}),[r]),c=(0,i.useMemo)((function(){return a(l,n)}),[l,n]),s=(0,i.useMemo)((function(){return f(o,t)}),[t,o]);return{formatedOptions:l,initialValue:c,currentValueKey:p[u],validate:s}},v=function(e){var n=e.BaseSelect,t=e.Field,r=e.children,a=e.className,l=e.dataTestId,c=void 0===l?"form-select":l,s=e.defaultInputSufix,d=void 0===s?"keys":s,f=e.initialValueIndex,p=e.name,v=e.onChange,h=e.onOpen,C=e.optionsListWidth,g=e.settings,y=e.size,S=e.validationRules,A=e.valueKey,k=void 0===A?"content":A,O=e.valueRenderer,b=g.allowUnselect,E=void 0!==b&&b,w=g.block,_=void 0===w||w,F=g.caption,M=g.multiple,B=g.options,L=g.hint,R=void 0===L?F:L,V=m({options:B,valueKey:k,initialValueIndex:f,validationRules:S,multiple:M}),j=V.currentValueKey,D=V.formatedOptions,x=V.initialValue,I=V.validate;return i.createElement(t,{data:g,initialValue:x,name:p,render:function(e){var t,l=e.input,s=e.meta;return i.createElement("div",{className:a},i.createElement(n,(0,o.Z)({},l,g,{allowUnselect:E,block:_,dataTestId:c,error:null!==(t=s.touched&&s.error)&&void 0!==t?t:s.submitError,hint:R,name:l.name+"-"+d,onChange:function(e){var n=e.selectedMultiple;l.onChange(n),l.onBlur(),null==v||v(n)},onOpen:h,options:D,optionsListWidth:C,selected:l.value.map((function(e){return e.key})),size:y,valueRenderer:O}),r),i.createElement("input",{name:l.name,type:"hidden",value:u(l.value,j)}))},validate:I})}},83834:function(e,n,t){t.d(n,{g:function(){return l}});var r=t(87462),o=t(63366),i=t(67294),u=t(66688),a=["data","dispatchesFocus","name","receivesFocus","render"],l=function(e){var n=e.data,t=e.dispatchesFocus,l=e.name,c=e.receivesFocus,s=e.render,d=(0,o.Z)(e,a),f=(0,u.cI)().mutators,p=(0,i.useRef)(null);return i.createElement(u.gN,(0,r.Z)({},d,{data:Object.assign({dispatchesFocus:t,onComplete:f.onComplete,onUpdateFormAction:f.onUpdateFormAction,receivesFocus:c,ref:p},n),name:l,render:s}))}},13713:function(e,n,t){t.d(n,{$9:function(){return o},Ww:function(){return i},tA:function(){return u},f8:function(){return a},sj:function(){return l}});var r=t(67294);function o(e){return Boolean("object"==typeof e&&null!==e&&"NamedContainer"===e.props.is&&e.props.name)}function i(e){return r.Children.toArray(e).reduce((function(e,n){if(o(n)){if("children"!==n.props.name){var t;return Object.assign({},e,((t={})[n.props.name]=n.props.children,t))}}else e.children.push(n);return e}),{children:[]})}function u(e){return r.Children.toArray(e).reduce((function(e,n){var t;return o(n)?Object.assign({},e,((t={})[n.props.name]=n.props.children,t)):e}),{})}function a(e){return(0,r.useMemo)((function(){return i(e)}),[e])}function l(e){return(0,r.useMemo)((function(){return u(e)}),[e])}},4159:function(e,n,t){t.r(n),t.d(n,{SelectV2Desktop:function(){return d}});var r=t(45761),o=t(27409),i=t(67294),u=t(87462),a=t(63366),l=t(13713),c=["Select","children","onChange","showConfirmationClear","showConfirmationSelectAll","useControlled","useSelectWithApply","withConfirmation"],s=(0,i.memo)((0,i.forwardRef)((function(e,n){var t=e.Select,r=e.children,s=e.onChange,d=e.showConfirmationClear,f=e.showConfirmationSelectAll,p=e.useControlled,m=e.useSelectWithApply,v=e.withConfirmation,h=(0,a.Z)(e,c),C=(0,l.sj)(r).header,g=h.multiple&&v,y=p({controlled:h.selected,default:[]}),S=y[0],A=y[1],k=(0,i.useCallback)((function(e){A(e.selectedMultiple.map((function(e){return e.key}))),null==s||s(e)}),[s,A]),O=m((0,i.useMemo)((function(){return{options:h.options,selected:S,onChange:k,showClear:d,showSelectAll:f,OptionsList:function(e){return i.createElement(o.ML,(0,u.Z)({},e,{header:C}))}}}),[h.options,S,k,d,f,C])),b=(0,i.useMemo)((function(){return g?O:{selected:S,onChange:k}}),[g,O,S,k]);return i.createElement(t,(0,u.Z)({},h,{ref:n},b))}))),d=(0,r.A)({Option:o.IJ,Select:o.Ph,useControlled:function(e){var n=e.controlled,t=e.default,r=(0,i.useRef)(void 0!==n),o=(0,i.useState)(t),u=o[0],a=o[1];return[r.current?n:u,(0,i.useCallback)((function(e){r.current||a(e)}),[])]},useSelectWithApply:o.bY})(s)}}]);
//# sourceMappingURL=FormSelectDesktop.46b60e23.es5.js.map