"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[54550],{35676:function(e,t,n){n.d(t,{Vw:function(){return l},ko:function(){return o},_6:function(){return c},Rn:function(){return s},XW:function(){return u},Ys:function(){return d},ug:function(){return m}});var a=n(67294),r=n(94184),i=n.n(r),l=function(e){var t=e.children,n=e.styles;return a.createElement("aside",{className:n.offer},t)},o=function(e){var t=e.children,n=e.styles;return a.createElement("div",{className:n.title},t)},c=function(e){var t,n=e.children,r=e.noBorder,l=void 0!==r&&r,o=e.styles;return a.createElement("div",{className:i()(o.list,(t={},t[o.noBorder]=l,t))},n)},s=function(e){var t=e.children,n=e.styles;return a.createElement("div",{className:n.buttons},t)},u=function(e){var t=e.children,n=e.styles;return a.createElement("span",{className:i()(n.item,n.boldMobile)},t)},d=function(e){var t=e.children,n=e.styles;return a.createElement("span",{className:i()(n.item,n.h4)},t)},m=function(e){var t=e.children,n=e.styles;return a.createElement("span",{className:n.offerIcon},t)}},67417:function(e,t,n){n.d(t,{A:function(){return g}});var a=n(72036),r=n(99511),i=n(12044),l=n(15984),o=n(49730),c=n(45761),s=n(11401),u=n(80090),d=n(13171),m=n(1672),f=n(42899),p=n(67294),h=n(94184),v=n.n(h),y=n(56275),g=(0,c.A)({styles:{layout:"a3j7X",dark:"b3j7X",light:"c3j7X",transparent:"d3j7X",colFlex:"e3j7X",external:"f3j7X",grid:"g3j7X",gridContainer:"h3j7X",cardMargin:"i3j7X"},Layout:a.H,Link:s.r,Text:l.h,Grid:r.r,Button:i.z,MoveableContent:o.k,FontStyreneText:m.J,renderCards:f.U,parseNewLines:d.z,mapSpacerVerticalToStyler:u.N})((function(e){var t=e.FontStyreneText,n=e.Grid,a=e.Layout,r=e.Link,i=e.Text,l=e.children,o=e.className,c=e.dataTestId,s=e.headerBottomPadding,u=void 0===s?24:s,d=e.headingColor,m=void 0===d?"light":d,f=e.headingText,h=e.headingUrl,g=e.headingVariant,b=void 0===g?"main":g,x=e.id,C=e.mapSpacerVerticalToStyler,S=e.parseNewLines,k=e.renderCards,w=e.styles,T=e.subheadingText,E=e.theme,R=void 0===E?"light":E,D=(0,p.useRef)(null);(0,y.g)(D,l);var N=S(f),M=p.createElement(i,{styler:{marginTop:0,marginBottom:T?16:C(u)},tag:"h2",theme:m,view:"small"},h?p.createElement(r,{href:h},N):N);return p.createElement("div",{className:v()(w.layout,w[R],o),"data-test-id":c,id:x},p.createElement(a,null,f&&"main"===b&&M,f&&"fancy"===b&&p.createElement(t,null,M),T&&p.createElement(i,{styler:{marginTop:0,marginBottom:24},tag:"div",view:"primary-medium"},T)),p.createElement("div",{ref:D,className:w.gridContainer},p.createElement(n,{classNames:{col:v()(w.cardMargin,w.external,w.colFlex),grid:v()(w.grid,w.external)},colAutoWidth:!0,justify:"start"},k(e))))}))},96134:function(e,t,n){n.d(t,{j:function(){return d}});var a=n(87462),r=n(63366),i=n(67294),l=n(94184),o=n.n(l),c=n(90741),s=["Checkbox","Hint","analytics","classNames","delta","discount","hintText","label","nbsp","onChange","styles","value"],u=function(){},d=(0,i.memo)((function(e){var t,n=e.Checkbox,l=e.Hint,d=e.analytics,m=e.classNames,f=void 0===m?"":m,p=e.delta,h=void 0===p?null:p,v=e.discount,y=void 0===v?null:v,g=e.hintText,b=void 0===g?"":g,x=e.label,C=e.nbsp,S=void 0===C?" ":C,k=e.onChange,w=void 0===k?u:k,T=e.styles,E=e.value,R=void 0!==E&&E,D=(0,r.Z)(e,s);y&&console.warn("Prop `discount` is deprecated. Use prop `delta` instead.");return i.createElement("div",{className:o()(T.checkbox,f)},i.createElement(n,(0,a.Z)({},D,{checked:R,onChange:function(e){var t=e.checked;w(Object.assign({},e,{value:t}))},value:""}),x,y?i.createElement("span",{className:T.calcHint}," ","(-",S,y,S,"%)"):null,h?i.createElement("span",{className:o()(T.delta,(t={},t[T.deltaDiscount]=h<0,t[T.deltaIncrease]=h>0,t))}," ",h>0?"+"+h:h,S,"%"):null,b&&i.createElement(i.Fragment,null,i.createElement("span",{className:T.hint,onClick:function(){d&&function(e,t){var n=e+"(i)::";(0,c.q)(Object.assign({},t,{click_text:n}))}(x,d)}},i.createElement(l,null,b)))))}));d.displayName="Memo(CheckboxField)"},53225:function(e,t,n){n.d(t,{Q:function(){return c}});var a=n(45761),r=n(5364),i=n(82354),l=n(95211),o=n(96134),c=(0,a.A)({styles:l.Z,Hint:r.I,Checkbox:i.WrappedCheckbox})(o.j)},26684:function(e,t,n){n.d(t,{W:function(){return d}});var a=n(45761),r=n(63366),i=n(94578),l=n(67294),o=n(83790),c=n(90741),s=["children","className","data","onClick","publisherEvent","sendOnRender","tag"],u=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).handleSendEvent=function(){var e=t.props,n=(e.children,e.className,e.data),a=(e.onClick,e.publisherEvent,e.sendOnRender,e.tag,(0,r.Z)(e,s));(0,c.q)(Object.assign({},n,a))},t}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.blockSend,n=e.publisherEvent;e.sendOnRender&&!t&&this.handleSendEvent(),n&&(0,o.Ld)(n,c.q)},n.componentWillUnmount=function(){var e=this.props.publisherEvent;e&&(0,o.r1)(e,c.q)},n.render=function(){var e=this,t=this.props,n=t.blockSend,a=t.children,r=t.className,i=t.sendOnRender,o=t.tag;if(i||!a)return null;if(null===o&&(0,l.isValidElement)(a))return(0,l.cloneElement)(a,{onClick:function(t){n||e.handleSendEvent(),a.props.onClick&&a.props.onClick(t)}});var c=o||"span";return l.createElement(c,{className:r,onClick:this.handleSendEvent},a)},t}(l.Component),d=(0,a.A)()(u)},57208:function(e,t,n){n.d(t,{x:function(){return r}});var a=function(e){return window.sessionStorage.getItem(e)},r=function(){function e(e){var t=e.id;this.id=void 0,this.id=t,this.set=this.set.bind(this),this.get=this.get.bind(this),this.getAll=this.getAll.bind(this),this.resetAll=this.resetAll.bind(this),this.setObj=this.setObj.bind(this)}var t=e.prototype;return t.set=function(e,t){try{var n=window.sessionStorage;n[this.id]||(n[this.id]="{}");var a=JSON.parse(n[this.id]);return a[e]=t,n.setItem(this.id,JSON.stringify(a)),!0}catch(e){return!1}},t.setObj=function(e){try{var t=window.sessionStorage,n={},a=t[this.id]&&JSON.parse(t[this.id]);return a&&Object.keys(a).forEach((function(e){n[e]=a[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),t.setItem(this.id,JSON.stringify(n)),!0}catch(e){return!1}},t.get=function(e){try{var t=a(this.id);return null!==t&&(JSON.parse(t)[e]||!1)}catch(e){return!1}},t.getAll=function(){try{var e=a(this.id);return null!==e&&JSON.parse(e)}catch(e){return!1}},t.resetAll=function(){try{var e=window.sessionStorage;return!!e[this.id]&&(e[this.id]="{}",!0)}catch(e){return!1}},t.dropStore=function(){try{return window.sessionStorage.removeItem(this.id),!0}catch(e){return!1}},e}()},10768:function(e,t,n){n.d(t,{y:function(){return a}});var a=function(e){return!e||Number.isNaN(Math.abs(Number(e)))||e.toString().split(".").length>2?"":Number(e).toLocaleString("ru-RU",{maximumFractionDigits:10,useGrouping:!1})}},63465:function(e,t,n){n.d(t,{D:function(){return i}});var a=n(87462),r=n(67294),i=function(e){return r.createElement("svg",(0,a.Z)({height:"18",viewBox:"0 0 16 18",width:"16"},e),r.createElement("path",{d:"M0 16h16v2H0v-2zm7-5.5V0h2v10.5L12.5 7 14 8.5 8 14 2 8.5 3.5 7 7 10.5z",fill:"currentColor"}))}},66235:function(e,t,n){n.d(t,{U:function(){return i}});var a=n(87462),r=n(67294),i=function(e){return r.createElement("svg",(0,a.Z)({height:"2",viewBox:"0 0 22 2",width:"22"},e),r.createElement("path",{d:"M21 2a1 1 0 100-2H1a1 1 0 000 2h20z",fill:"currentColor"}))}},856:function(e,t,n){n.d(t,{S:function(){return i}});var a=n(87462),r=n(67294),i=function(e){return r.createElement("svg",(0,a.Z)({height:"22",viewBox:"0 0 22 22",width:"22"},e),r.createElement("path",{d:"M12 1a1 1 0 10-2 0v20a1 1 0 102 0V1z",fill:"currentColor"}),r.createElement("path",{d:"M21 12a1 1 0 100-2H1a1 1 0 100 2h20z",fill:"currentColor"}))}},11062:function(e,t,n){n.d(t,{E:function(){return d}});var a=n(45761),r=n(18641),i=n(87462),l=n(63366),o=n(67294),c=n(94184),s=n.n(c),u=["alt","className","lazy","radiusKind","responsive","srcRetina","styles","verticalAlign"],d=(0,a.A)({styles:r.Z})((function(e){var t,n=e.alt,a=e.className,r=e.lazy,c=void 0===r||r,d=e.radiusKind,m=void 0===d?"default":d,f=e.responsive,p=void 0!==f&&f,h=e.srcRetina,v=e.styles,y=e.verticalAlign,g=void 0===y?"baseline":y,b=(0,l.Z)(e,u);return o.createElement("img",(0,i.Z)({alt:n,className:s()(v[""+g],v[m+"KindRadius"],(t={},t[v.responsive]=p,t),a),loading:c?"lazy":void 0,srcSet:h?h+" 2x":void 0},b))}))},5080:function(e,t,n){n.d(t,{A:function(){return a}});var a=function(e,t){return t[e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2]}},94828:function(e,t,n){n.d(t,{l:function(){return r}});var a=n(94369),r=function(e,t){return void 0===t&&(t="rub"),(0,a.B)(Math.round(e*("penny"===t?.01:1)))+" ₽"}},51217:function(e,t,n){n.d(t,{o:function(){return r}});var a=n(10768),r=function(e,t){var n=void 0===t?{}:t,r=n.isDecimal,i=void 0===r||r,l=n.withSpace,o=void 0===l||l;return(0,a.y)((i?100*e:e).toFixed(2))+(o?" ":"")+"%"}},68018:function(e,t,n){n.d(t,{B:function(){return r}});var a=n(5080),r=function(e,t){var n=void 0===t?{}:t,r=n.withSpace,i=void 0===r||r,l=n.withValue;return(void 0===l||l?e:"")+(i?" ":"")+(0,a.A)(e,["год","года","лет"])}},16213:function(e,t,n){n.d(t,{n:function(){return E}});var a=n(67294),r=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],i="payment",l="term",o=function(e){var t=e.creditTermInMonths,n=e.index,a=e.loanLeft,r=e.monthlyRate;return Math.round(a*function(e){var t=e.creditTermInMonths,n=e.index,a=e.monthlyRate;return a/(1-Math.pow(1+a,-(t-n+1)))}({creditTermInMonths:t,index:n,monthlyRate:r}))},c=function(e){var t=e.loanLeft,n=e.monthlyRate;return Math.round(t*n)},s=function(e){var t=e.monthlyPayment,n=e.paymentPercents;return Math.round(t-n)},u=function(e){return Array.from(Array(e))},d=function(e){var t,n=e.getMonth();return{monthNumber:n,monthName:(t=n)>=0&&t<r.length?r[t]:"None",year:e.getFullYear()}},m=function(e){var t=e.currentDate,n=e.index;return e.transactions.reduce((function(e,a){var r=a.amountValue,i=a.periodValue,l=function(e){return void 0===e||""===e?0:100*parseInt(e,10)}(r);return function(e){var t=e.index,n=e.monthNumber,a=e.periodValue;if(t>2){if("once_year"===a&&11===n)return!0;if("once_half_year"===a&&[5,11].includes(n))return!0;if("once_quarter"===a&&[0,3,6,9].includes(n))return!0;if("once_month"===a)return!0}return!1}({monthNumber:t.getMonth(),periodValue:i,index:n})?e+l:e}),0)},f=function(e){for(var t=e.creditSum,n=e.creditTermInMonths,a=e.monthlyRate,r=new Date,i=[],l=t,u=1;u<=n;u++){r.setMonth(r.getMonth()+1);var m=c({loanLeft:l,monthlyRate:a}),f=o({loanLeft:l,creditTermInMonths:n,index:u,monthlyRate:a}),p=s({monthlyPayment:f,paymentPercents:m});l-=p,i.push(Object.assign({},d(r),{monthlyPayment:f,loanLeft:l,paymentPercents:m,paymentLoan:p}))}return i},p=function(e){var t=e.creditSum,n=e.creditTermInMonths,a=e.monthlyRate,r=e.transactions.filter((function(e){return e.typeValue===i}));if(0===r.length)return[];var l=new Date,f=t;return u(n+1).reduce((function(e,t,i){l.setMonth(l.getMonth()+1);var u=c({loanLeft:f,monthlyRate:a}),p=o({loanLeft:f,creditTermInMonths:n,index:i,monthlyRate:a}),h=s({monthlyPayment:p,paymentPercents:u}),v=m({currentDate:l,index:i,transactions:r});return(f-=h+v)<=0?e:[].concat(e,[Object.assign({},d(l),{paymentPercents:u,monthlyPayment:p,paymentLoan:h,loanLeft:f})])}),[])},h=function(e){var t=e.creditSum,n=e.creditTermInMonths,a=e.monthlyRate,r=e.transactions.filter((function(e){return e.typeValue===l}));if(0===r.length)return[];var i=new Date,f=t,p=o({loanLeft:f,creditTermInMonths:n,index:1,monthlyRate:a});return u(n+1).reduce((function(e,t,n){i.setMonth(i.getMonth()+1);var l=c({loanLeft:f,monthlyRate:a}),o=s({monthlyPayment:p,paymentPercents:l});return f<=0?e:(f<p&&(p=f),(f-=m({currentDate:i,index:n,transactions:r})+o)<=0?e:[].concat(e,[Object.assign({},d(i),{paymentPercents:l,monthlyPayment:p,paymentLoan:o,loanLeft:f})]))}),[])},v=n(90741),y=n(94828),g=n(51217),b=n(68018),x={construction:"Новостройка",housing:"Вторичка"},C=function(e){var t=e.analyticsDownloadButton,n=e.creditSum,a=e.creditTerm,r=e.interestRate,i=e.tableSource,l=e.type;return function(){t&&(0,v.q)(t.analyticsDownloadButton),function(e,t){var n=e+".html"||0,a=new Blob([t],{type:"text/html; charset=utf-18"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,n);else{var r=document.createElement("a");if(void 0!==r.download){var i=URL.createObjectURL(a);r.setAttribute("href",i),r.setAttribute("download",n),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}}("mortgage",function(e){var t=e.data,n=e.terms,a=e.type,r="График платежей по ипотеке",i=r+" от "+(new Date).toLocaleDateString("ru-RU")+".",l=t.map((function(e){return e.groupTitle?[{key:e.groupTitle.toString(),separator:!0,content:e.groupTitle}].concat(e.data):e.data})).flat();return function(e){var t=e.data,n=e.footer,a=e.header,r=e.htmlTitle,i=e.params.map((function(e){return'<div class="param"><p class="name">'+e.title+'</p><p class="value">'+e.value+"</p></div>"})),l=t.map((function(e){return e.separator?'<div class="row separator"><p>'+e.content+"</p></div>":'<div class="row"><p>'+e.paymentDate+"</p><p>"+e.monthlyPayment+"</p><p>"+e.paymentPercents+"</p><p>"+e.paymentLoan+"</p><p>"+e.loanLeft+"</p></div>"}));return'<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=570px;"><meta http-equiv="X-UA-Compatible" content="ie=edge" /><title>'+r+'</title></head><style>@page {size: A4;margin: 0;max-width: none;}@media print {html,body {width: 210mm;height: 297mm;}}* {font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Ubuntu,Cantarell,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;margin: 0;padding: 0;color: #121212;}main {padding: 0 32px;}@media screen {main {max-width: 570px;}}.logo {display: block;margin: 24px 0;width: 22px;height: 33px;position: relative}.logo svg {position: absolute;left: -6px;}.header {font-size: 14px;line-height: 20px;color: #121212;margin-bottom: 16px;}.params {display: flex;margin-bottom: 32px;}.params .param {display: flex;flex-direction: column;margin-right: 48px;}.params .param:last-child {margin-right: 0;}.params .param .name {font-size: 11px;line-height: 16px;color: #6D7986;margin: 2px 0px;}.params .param .value {font-size: 13px;line-height: 16px;color: #121212;margin: 2px 0px;font-weight: 600;}.table {display: flex;flex-direction: column;margin-bottom: 16px;}.table .row {display: flex;}.table .row {padding: 8px 0;border-top: 1px solid rgba(11, 31, 53, 0.15);}.table .row:last-child {border-bottom: 1px solid rgba(11, 31, 53, 0.15);}.table .row p {flex: 1;margin-right: 16px;font-size: 11px;line-height: 16px;text-align: right;}.table .row p:first-child {text-align: left;white-space: nowrap;max-width: 70px;}.table .row p:last-child {margin-right: 0;}.table .row:not(.head) p {color: #6D7986;}.table .row p:nth-child(1),.table .row p:nth-child(2),.table .row p:nth-child(5) {color: #121212;}.table .row.head {font-weight: 600;padding-top: 0;border: 0;}.table .row.separator {background: #F5F7F9;border: 0;-webkit-print-color-adjust: exact !important;color-adjust: exact !important;}.row.separator+.row {border: 0;}.table .row.separator p:first-child {max-width: 100%;font-size: 11px;line-height: 16px;color: #121212;font-weight: 600;text-align: center;}.disclaimer {font-size: 8px;line-height: 16px;color: #6D7986;}</style><body><main class="layout"><a href="https://alfabank.ru/" class="logo"><svg height="33" viewBox="0 0 33 50" width="34"><path clip-rule="evenodd"d="M0 49.982v-6.825h32.61v6.825H0zm11.646-28.764h9.064L16.39 7.526h-.17l-4.573 13.692h-.001zm10.587-16.22l9.615 28.887h-7.115l-2.16-6.866H9.698l-2.33 6.867H.679l10.09-28.887C11.746 2.197 12.887 0 16.559 0s4.744 2.206 5.674 4.999v-.001z"fill="#f15045" fill-rule="evenodd"></path></svg></a><h2 class="header">'+a+'</h2><div class="params">'+i.join("")+'</div><div class="table"><div class="row head"><p>Дата</p><p>Платёж в месяц</p><p>Проценты</p><p>Основной долг</p><p>Остаток долга</p></div>'+l.join("")+'</div><p class="disclaimer">'+n+"</p></main></body></html>"}({htmlTitle:r,header:i,footer:"Приведенный расчет является примерным. Для получения более точной информации оставьте заявку на сайте или обратитесь в любое отделение банка.",params:n.map((function(e){return{title:e.title,value:e.value}})).concat([{title:"Тип",value:x[a]}]),data:l})}({type:l,terms:[{title:"Сумма кредита",value:(0,y.l)(n)},{title:"Ставка",value:(0,g.o)(r)},{title:"Срок",value:(0,b.B)(a)}],data:i}))}},S=function(e){return e.reduce((function(e,t){return e+t.paymentPercents/100}),0)},k=function(e){return Array.from(new Set(e.reduce((function(e,t){var n=t.year;return[].concat(e,[n])}),[]))).reduce((function(t,n,a){return[].concat(t,[{groupTitle:a>=1?n+" г":null,key:n,data:e.filter((function(e){return e.year===n})).map((function(e){return{key:e.monthNumber+"-"+e.year,paymentDate:e.monthName+" "+e.year,monthlyPayment:(0,y.l)(e.monthlyPayment,"penny"),loanLeft:(0,y.l)(e.loanLeft,"penny"),paymentPercents:(0,y.l)(e.paymentPercents,"penny"),paymentLoan:(0,y.l)(e.paymentLoan,"penny")}}))}])}),[])},w=function(e){return e.length<3?0:Math.round(e[3].loanLeft/100)},T=function(e){return e.length<3?0:Math.round(e[4].loanLeft/100)},E=function(e){var t=e.PaymentPlan,n=e.analyticsDownloadButton,r=e.data,o=e.downloadText,c=void 0===o?"Скачать график":o,s=e.earlyPaymentFields,u=e.earlyPaymentShow,d=void 0!==u&&u,m=e.isMobile,v=e.showChart,y=e.showDownloadButton,g=e.transactionsProps,b=void 0===g?[]:g,x=r.creditTerm,E=r.interestRate,R=r.taxDeduction,D=r.type,N=E/12,M=100*r.creditSum,P=x>36?x:12*x,F=(0,a.useState)(b),O=F[0],L=F[1],A=(0,a.useState)(""),I=A[0],V=A[1],j=function(e){var t=e.activeTransaction,n=e.planPaymentReduction,a=e.planRegular,r=e.planTermReduction;return""===t?{dataSource:a,tableSource:k(a),overpayment:S(a),overpaymentDelta:0}:t===i?{dataSource:n,tableSource:k(n),overpayment:S(n),overpaymentDelta:S(a)-S(n)}:t===l?{dataSource:r,tableSource:k(r),overpayment:S(r),overpaymentDelta:S(a)-S(r)}:{dataSource:[],tableSource:[],overpayment:0,overpaymentDelta:0}}({activeTransaction:I,planPaymentReduction:p({creditSum:M,monthlyRate:N,transactions:O,creditTermInMonths:P}),planRegular:f({creditSum:M,creditTermInMonths:P,monthlyRate:N}),planTermReduction:h({creditSum:M,monthlyRate:N,transactions:O,creditTermInMonths:P})}),Z=j.dataSource,_=j.overpayment,B=j.overpaymentDelta,H=j.tableSource;return a.createElement(t,{amountValueMaxForPayment:w(Z),amountValueMaxForTerm:T(Z),columns:[{title:"Дата",dataIndex:"paymentDate",primary:!0,width:m?70:75},{title:"Платёж в месяц",dataIndex:"monthlyPayment",primary:!0},{title:"Проценты",dataIndex:"paymentPercents",primary:!1},{title:"Основной долг",dataIndex:"paymentLoan",primary:!1},{title:"Остаток долга",dataIndex:"loanLeft",primary:!0}],data:{creditSum:{title:"Сумма кредита",value:r.creditSum,unit:"₽",order:1},interestRate:{title:"Ставка",value:E,unit:"%",order:2},creditTerm:{title:"Срок",value:x,unit:"year",order:3},overpayment:{title:"Переплата по кредиту",value:_,unit:"₽",order:4,visible:m},taxDeduction:{hint:"Сумма, которую вы можете себе вернуть в качестве налогового вычета c покупки жилья и с процентов по ипотеке",title:"Налоговый вычет",value:R,unit:"₽",order:5,visible:m}},downloadText:c,earlyPaymentEconomyAmount:B,earlyPaymentFields:s,earlyPaymentShow:d,earlyPaymentTransactions:O,onAddTransaction:function(e){var t=e.amountValue,n=e.id,a=e.periodValue,r=e.typeValue;L([].concat(O,[{amountValue:t,periodValue:a,typeValue:r,id:n}])),V(r)},onDownloadButtonClick:C({analyticsDownloadButton:n,creditSum:M,creditTerm:x,interestRate:E,tableSource:H,type:D}),onRemoveAllTransaction:function(){L([]),V("")},orientationHint:"Поверните телефон горизонтально, чтобы увидеть все данные",showChart:v,showDownloadButton:y,tableSource:H,title:"График платежей"})}},96499:function(e,t,n){n.d(t,{z:function(){return u}});var a=n(45761),r=n(87462),i=n(63366),l=n(67294),o=n(94184),c=n.n(o),s=["border","borderColor","borderRadius","children","className","dataTestId","fullHeight","id","inner","innerRef","notPadded","overflowHidden","paddedType","shadow","styles","theme"],u=(0,a.A)({styles:{block:"afYCZ",fullHeight:"bfYCZ",standard:"cfYCZ",sticky:"dfYCZ",normal:"efYCZ",perimeter16:"ffYCZ",perimeter24:"gfYCZ",perimeter32:"hfYCZ",perimeter48:"ifYCZ",inner:"jfYCZ",border:"kfYCZ","border-dark-indigo-20":"lfYCZ",borderDarkIndigo20:"lfYCZ","border-dark-indigo-10":"mfYCZ",borderDarkIndigo10:"mfYCZ",borderRadius0:"nfYCZ",borderRadius4:"ofYCZ",borderRadius8:"pfYCZ",borderRadius12:"qfYCZ",overflowHidden:"rfYCZ",white:"sfYCZ",grey:"tfYCZ",blue:"ufYCZ",transparent:"vfYCZ",black:"wfYCZ",lightInverted:"xfYCZ",perimeter:"yfYCZ",shadow:"zfYCZ"}})((function(e){var t,n,a=e.border,o=e.borderColor,u=e.borderRadius,d=e.children,m=e.className,f=e.dataTestId,p=e.fullHeight,h=e.id,v=e.inner,y=e.innerRef,g=e.notPadded,b=e.overflowHidden,x=e.paddedType,C=void 0===x?"standard":x,S=e.shadow,k=void 0!==S&&S,w=e.styles,T=e.theme,E=void 0===T?"transparent":T,R=(0,i.Z)(e,s),D={};if(void 0!==o&&(D[w["border-"+o]]=o),void 0!==u&&!1!==u){var N=!0===u?4:u;D[w["borderRadius"+N]]=N}var M=c()(w.block,w[E],Object.assign(((t={})[w[C]]=!g,t[w.inner]=v,t[w.border]=a&&!o,t),D,((n={})[w.fullHeight]=p,n[w.shadow]=k,n[w.overflowHidden]=b,n)),m);return l.createElement("div",(0,r.Z)({ref:y,className:M,"data-test-id":f,id:h},R),d)}))},24136:function(e,t,n){n.d(t,{_:function(){return a}});var a=function(){function e(){this.nextHandler=null}var t=e.prototype;return t.setNext=function(e){return this.nextHandler=e,e},t.handle=function(e){return this.nextHandler?this.nextHandler.handle(e):e},e}()},44810:function(e,t,n){n.d(t,{d:function(){return o}});var a=n(94578),r=n(85970),i=n(24136),l=function(e){var t=e.creditSum,n=e.creditTermInMonths,a=function(e,t){return e/t}(e.interestRate,r.e7),i=function(e,t){return e*Math.pow(1+e,t)/(Math.pow(1+e,t)-1)}(a,n);return Math.round(t*i)},o=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.handle=function(t){var n=t.creditSum,a=t.creditTerm,i=t.interestRate,o=t.interestRateWithoutSaleDelta,c=a*r.e7,s=l({creditSum:n,creditTermInMonths:c,interestRate:i}),u=l({creditSum:n,creditTermInMonths:c,interestRate:o});return e.prototype.handle.call(this,Object.assign({},t,{monthlyPayment:s,mountlyPaymentWithoutSaleDelta:u}))},t}(i._)},50135:function(e,t,n){n.d(t,{J:function(){return r}});var a=n(67294),r=function(e){var t=e.src;return a.createElement("img",{alt:"icon",height:24,src:t,style:{display:"block",backgroundPosition:"50%",backgroundRepeat:"no-repeat",backgroundSize:"contain"},width:24})}},9437:function(e,t,n){n.d(t,{j:function(){return s}});var a=n(87462),r=n(63366),i=n(67294),l=n(94184),o=n.n(l),c=["Checkbox","Hint","HintIcon","Link","analytics","className","classNames","delta","deltaVisible","hintText","label","linkText","name","nbsp","onChange","onClickHint","onClickLink","styles","value"],s=function(e){var t,n=e.Checkbox,l=e.Hint,s=e.HintIcon,u=e.Link,d=(e.analytics,e.className),m=e.classNames,f=void 0===m?"":m,p=e.delta,h=e.deltaVisible,v=void 0===h||h,y=e.hintText,g=void 0===y?"":y,b=e.label,x=e.linkText,C=e.name,S=e.nbsp,k=void 0===S?" ":S,w=e.onChange,T=e.onClickHint,E=e.onClickLink,R=e.styles,D=e.value,N=void 0!==D&&D,M=(0,r.Z)(e,c),P=g||T;return i.createElement("div",{className:o()(R.checkbox,f,d)},i.createElement(n,(0,a.Z)({},M,{checked:N,name:C,onChange:function(e){if(w){var t=e.checked,n=e.name||C;w(Object.assign({},e,{name:n,value:t}))}},value:""}),b,v&&p?i.createElement(i.Fragment,null," ",i.createElement("span",{className:o()(R.delta,(t={},t[R.deltaDiscount]=p<0,t[R.deltaIncrease]=p>0,t))},p>0?"+"+p:p,k,"%")):null,x?i.createElement(u,{className:o()(R.link,R.external),kind:"caption",onClick:function(e){var t=e.event;E&&E({event:t,name:C})},pseudo:!0,theme:"grey"},x):null,P&&i.createElement("span",{className:R.hint},T?i.createElement(s,{onClick:T}):i.createElement(l,null,g))))}},62955:function(e,t,n){n.d(t,{A:function(){return o}});var a=n(45761),r=n(21404),i=n(12044),l=n(67294),o=(0,a.A)({Icon:r.J})((function(e){var t=e.Icon,n=e.onClick;return l.createElement(i.z,{dataTestId:"mortgage-calc-hint-icon",onClick:n,view:"ghost"},l.createElement(t,null))}))},5741:function(e,t,n){n.d(t,{x:function(){return l}});var a=n(67294),r=n(90741),i=function(e){var t=e.saleId,n=e.sales;return Object.entries(n).reduce((function(e,n){var a=n[0],r=n[1];return t===a&&null!=r&&r.listOfDeveloper?r.listOfDeveloper:e}),[])},l=function(e){var t=e.SalesList,n=e.analytics,l=e.className,o=e.isVisibleDiscount,c=e.onChangeSale,s=e.partnerEstateDeveloperData,u=e.sales,d=e.salesDeltaForProgram,m=e.salesOptions,f=e.salesValues,p=(0,a.useState)(!1),h=p[0],v=p[1],y=(0,a.useState)([]),g=y[0],b=y[1],x=(0,a.useState)(""),C=x[0],S=x[1],k=(0,a.useState)(""),w=k[0],T=k[1],E=(0,a.useMemo)((function(){return g.filter((function(e){return e.active})).map((function(e){return Object.assign({},e,{checked:e.id===C})}))}),[C,g]),R=function(){v(!0)},D=function(){v(!1)};return a.createElement(t,{className:l,developerOptions:E,handleChangeSelectedDev:function(e){var t=e.checked,a=e.name;if(S(t?a:""),null!=n&&n.changeDeveloper){var i,l=null==(i=g.find((function(e){return e.id===a})))?void 0:i.name;(0,r.q)(n.changeDeveloper({developer:l||"",value:t.toString()}))}},handleOnClickLink:function(e){var t=e.event,n=e.name;t.preventDefault(),T(n),b(i({sales:u,saleId:n})),R()},handleOnSelectDev:function(){D(),c({name:w,value:!0}),null!=n&&n.selectDeveloper&&(0,r.q)(n.selectDeveloper())},hidePaymentPlanModal:D,isVisibleDiscount:o,isVisiblePaymentPlanModal:h,onChangeSale:function(e){var t=e.name,a=e.value,l=i({sales:u,saleId:t});l.length&&a?(T(t),b(l),R()):c({name:t,value:a}),null!=n&&n.changeSales&&(0,r.q)(n.changeSales({fieldName:t,value:a}))},partnerEstateDeveloperData:s,salesDeltaForProgram:d,salesOptions:m,salesValues:f})}},95824:function(e,t,n){n.d(t,{I:function(){return a},C:function(){return r}});var a="Условия снижения платежа",r="📍На 2% на 1 год — комиссия 1% от суммы кредита.\n\n📍На 2% на 2 года — комиссия 2% от суммы кредита.\n\n📍На 2% на весь срок — комиссия 7% от суммы кредита.\n\n📍На 7% на 1 год — комиссия 6% от суммы кредита.\n\nОкончательный индивидуальный расчёт можно получить через менеджера после одобрения кредита."},1117:function(e,t,n){n.d(t,{N:function(){return o}});var a=n(67294),r=n(85970),i=n(9895),l=new(n(44810).d);var o=function(e){var t=e.creditSum,n=e.creditTerm,o=e.interestRate,c=(0,a.useContext)(i.C),s=c.hideLowRateModal,u=c.isInfo,d=c.isVisibleLowRateModal,m=c.lowRateDiscount,f=c.rates,p=c.setLowRateCost,h=c.setLowRateDiscount,v=c.setLowRateDiscountRate,y=c.setLowRateTariff,g=c.tariff,b=c.updateLowRateChecked,x=(0,r.c9)(f,o),C=x.filter((function(e){return parseFloat(e.label)===m})),S=(0,a.useState)(C[0]&&u?C[0]:x[0]),k=S[0],w=S[1],T=k.tariff,E=T.filter((function(e){return e.period===g.period})),R=(0,a.useState)(E[0]&&u?E[0]:T[0]),D=R[0],N=R[1],M=t*(D.cost/100),P=k.rate/100,F=function(e){var t=e.creditSum,n=e.creditTerm,a=e.discountCost,r=e.discountInterestRate,i=e.interestRate;return{monthlyPayment:l.handle({creditSum:t+a,creditTerm:n,interestRate:r,interestRateWithoutSaleDelta:0}).monthlyPayment,mountlyPaymentWithoutSaleDelta:l.handle({creditSum:t,creditTerm:n,interestRate:0,interestRateWithoutSaleDelta:i}).mountlyPaymentWithoutSaleDelta}}({creditSum:t,creditTerm:n,discountCost:M,discountInterestRate:P,interestRate:o}),O=F.monthlyPayment,L=F.mountlyPaymentWithoutSaleDelta,A=(0,a.useCallback)((function(){h(parseFloat(k.label)),v(P),p(D.cost/100),y(D),b(!0)}),[null==k?void 0:k.label,P,D,p,h,v,y,b]);(0,a.useEffect)((function(){k&&A()}),[k,D]);var I=D.period*L-D.period*O;return{periodText:(0,r.Bt)(D.period/12),saving:I,handleSubmit:A,handleOnSelectDiscount:function(e){e.tariff.some((function(e){return e.period===D.period}))||N(e.tariff[0]),w(e)},setDiscountTariff:N,hideLowRateModal:s,tariffs:T,discountTarrif:D,discounts:x,monthlyPayment:O,mountlyPaymentWithoutSaleDelta:L,discountCost:M,discountInterestRate:P,isVisibleLowRateModal:d,currentDiscount:k}}},71557:function(e,t,n){n.d(t,{L:function(){return s}});var a=n(67294),r=n(94184),i=n.n(r),l=n(51217),o="Скидка от партнёра — застройщика",c="Выберите из списка застройщика, у которого вы приобретаете недвижимость, и получите скидку {delta} к ставке по ипотеке. Скидка может примениться только к аккредитованным банком застройщикам.",s=function(e){var t=e.Button,n=e.Checkbox,r=e.Text,s=e.developerOptions,u=e.onChange,d=e.onSelect,m=e.isMobile,f=e.title,p=void 0===f?o:f,h=e.subtitle,v=void 0===h?c:h,y=e.buttonText,g=e.delta,b=e.styles,x=s.filter((function(e){return e.checked})),C=(0,a.useCallback)((function(){var e=v.split("{delta}"),t=e[0],n=e[1];return n?a.createElement(a.Fragment,null,t,a.createElement("span",{className:i()(b.delta)},(0,l.o)(Math.abs(Number(g)),{isDecimal:!1,withSpace:!1})),n):v}),[g,v]);return a.createElement(a.Fragment,null,p&&a.createElement(r,{dataTestId:"mortgage-program-calculator-partner-developer-title",styler:{marginTop:0,marginBottom:m?16:24},view:m?"small":"medium"},p),v&&a.createElement(r,{dataTestId:"mortgage-program-calculator-partner-developer-subtitle",styler:{marginTop:0,marginBottom:24},view:"primary-medium"},C()),s.map((function(e){return a.createElement(n,{key:e.id,label:a.createElement(r,{fontWeight:e.marker?7:4},e.name),name:e.id,onChange:u,value:e.checked})})),a.createElement(t,{block:m,borderRadius:8,dataTestId:"mortgage-program-calculator-partner-developer-submit",disabled:!x.length,innerClassName:i()(b.button,b.external),onClick:d,size:"s",type:"button",view:"primary"},y||"Применить"))}},39053:function(e,t,n){n.d(t,{s:function(){return a}});var a={paymentConsider:{analytics:{},label:"Учесть досрочное погашение",value:!1},paymentAmount:{analytics:{},placeholder:"Сумма",caption:"Без учёта платежа в месяц",value:""},paymentType:{analytics:{},placeholder:"Хочу уменьшить",caption:"",options:[{id:"payment",label:"Платёж в месяц"},{id:"term",label:"Срок ипотеки"}]},paymentPeriod:{analytics:{},placeholder:"Буду вносить",caption:"",options:[{id:"once_year",label:"Раз в год"},{id:"once_half_year",label:"Раз в полгода"},{id:"once_quarter",label:"Раз в квартал"},{id:"once_month",label:"Раз в месяц"}]},paymentAddButton:{analytics:{},label:"Добавить"},removeTransactions:{analytics:{},label:"удалить досрочное погашение"}}},74173:function(e,t,n){n.d(t,{B5:function(){return a},FR:function(){return r},lt:function(){return i},Bb:function(){return l},xq:function(){return o},s8:function(){return c}});var a="Сумма, которую вы можете себе вернуть в качестве налогового вычета с покупки жилья и с процентов по ипотеке. ",r="Узнать подробнее",i="https://alfabank.ru/get-money/mortgage/nalogovyj-vychet-po-ipoteke/",l="Заполнить заявку",o="#mortgage-first-step-form",c="График платежей"},85970:function(e,t,n){n.d(t,{e7:function(){return l},Qj:function(){return o},xR:function(){return c},x2:function(){return d},EG:function(){return p},AM:function(){return h},M2:function(){return v},yp:function(){return y},Ou:function(){return g},nS:function(){return x},Ch:function(){return C},c9:function(){return S},Bt:function(){return k}});var a=n(57208),r=n(68018),i=n(5080),l=12,o=100,c={},s="housing",u="construction",d="mortgageCurrentParams",m=new a.x({id:d}),f=new a.x({id:"calcResults"}),p=function(e,t){return e in t&&t[e].visible?Object.assign({},t[e],{id:e}):Object.assign({},t.construction,{id:u})},h=function(e,t){var n={initialFee:100,rate:0},a=t.reduce((function(t,a){return a.initialFee<n.initialFee&&(n=a),a.initialFee<=e&&t.initialFee<a.initialFee?a:t}),{initialFee:0,rate:0});return a.rate?a.rate:n.rate},v=function(e){return Math.min.apply(null,e.map((function(e){return e.initialFee})))},y=function(e,t,n){return Math.min(Math.max(e,t),n)},g=function(e){return{estateCost:Number(e.estateCost),initialFee:Number(e.initialFee),creditTerm:Number(e.creditTerm)}},b=function(e,t,n){return{id:t,label:e.label,subLabel:n?e.subLabel:e.hintText,hintText:e.hintText,link:e.link}},x=function(e,t,n){void 0===n&&(n=!1);var a=[b(e[t],t,n)];return Object.keys(e).forEach((function(r){e[r].visible&&r!==t&&a.push(b(e[r],r,n))})),a},C=function(e){var t,n,a,r,i,l=e.calculatedValues,o=e.program,c=e.sales,d=o.id===s,p="privateHouse"===o.id,h=Object.keys(o.sales).includes("payrollClient")&&(null==c||null==(t=c.payrollClient)?void 0:t.checked),v=Object.keys(o.sales).includes("buyLend")&&(null==c||null==(n=c.buyLend)?void 0:n.checked),y=Object.keys(o.sales).includes("lowRate"),g=Object.keys(o.sales).includes("house"),b=Object.keys(o.sales).includes("haveChild")&&(null==c||null==(a=c.haveChild)?void 0:a.checked),x={creditTerm:l.creditTerm,estateCost:l.estateCost,initialFee:l.initialFee,maternalCapital:!1,payrollClient:h,stateSubsidy:"stateSubsidy"===o.id||p&&!b,itSubsidy:"itSubsidy"===o.id,rateCut:y&&(null==c||null==(r=c.lowRate)?void 0:r.checked),childSubsidy:"childSubsidy"===o.id||b,farEastSubsidy:"farEastSubsidy"===o.id,passportOnly:p},C=d?"mortgageHousingCalculator":"mortgageConstructionCalculator";g&&null!=c&&null!=(i=c.house)&&i.checked&&(x.propertyType="House"),p&&(x.propertyType="PrivateHouse"),p&&v&&(x.propertyType="PrivateHouseWithLand"),sessionStorage.setItem(C,JSON.stringify(x)),f.setObj({creditSum:l.creditSum,interestRate:l.interestRate,monthlyPayment:l.monthlyPayment}),m.setObj({creditTerm:l.creditTerm,estateCost:l.estateCost,initialFee:l.initialFee,currentProgram:o.id,type:d?s:u,payrollClient:h})},S=function(e,t){return e.map((function(e){var n=e.rate;return Object.assign({},e,{id:n,label:"-"+String((100*t-n).toFixed(2))+"%"})}))},k=function(e){return(0,i.A)(e,["первый","первые","первые"])+" "+(0,r.B)(e,{withValue:1!==e})}},9895:function(e,t,n){n.d(t,{C:function(){return i},i:function(){return l}});var a=n(67294),r={lowRateChecked:!1,lowRatelabel:"",lowRateVisible:!1,updateLowRateChecked:function(){},setLowRateCost:function(){},hideLowRateModal:function(){},setLowRateDiscountRate:function(){},setLowRateDiscount:function(){},openLowRateModal:function(){},setLowRateTariff:function(){},rates:[{rate:8.9,tariff:[{period:12,cost:6,default:!1}],initialFee:8.9}],cost:.065,rate:.029,lowRateDiscount:0,isVisibleLowRateModal:!1,isInfo:!1,tariff:{period:12,cost:6,default:!1}},i=(0,a.createContext)(r);var l=function(e){var t=void 0===e?{}:e,n=t.checked,r=void 0!==n&&n,i=t.label,l=t.rates,o=t.visible,c=void 0!==o&&o,s=(0,a.useState)(r),u=s[0],d=s[1],m=(0,a.useState)(!1),f=m[0],p=m[1],h=(0,a.useState)(!1),v=h[0],y=h[1],g=function(e){var t={tariff:{period:12,cost:6,default:!1},rate:8.9};return e?null==e?void 0:e.reduce((function(e,t){var n=t.rate,a=t.tariff.find((function(e){return e.default}));return a?{rate:n,tariff:a}:e}),t):t}(l),b=(0,a.useState)(g.tariff.cost/100),x=b[0],C=b[1],S=(0,a.useState)(g.rate/100),k=S[0],w=S[1],T=(0,a.useState)(g.tariff),E=T[0],R=T[1],D=(0,a.useState)(0),N=D[0],M=D[1];(0,a.useEffect)((function(){d(r)}),[r]);return{cost:x,hideLowRateModal:function(){y(!1),p(!1)},isVisibleLowRateModal:f,lowRateChecked:u,lowRateDiscount:N,lowRatelabel:i,lowRateVisible:c,openLowRateModal:function(e){e.stopPropagation(),y(!0),p(!0)},isInfo:v,rate:k,rates:l,setLowRateCost:function(e){C(e)},setLowRateDiscount:M,setLowRateDiscountRate:function(e){w(e)},setLowRateTariff:function(e){R(e)},tariff:E,updateLowRateChecked:function(e){e&&f&&d(e),e&&!f&&p(!0),e||d(e),!e&&N&&M(0)}}}},20863:function(e,t,n){n.d(t,{d:function(){return o}});var a=n(67294),r=n(94184),i=n.n(r),l=n(90741),o=function(e){var t=e.Modal,n=e.analytics,r=e.styles,o=(0,a.useState)(!1),c=o[0],s=o[1],u=function(){return s(!1)};return{open:function(){s(!0),n&&(0,l.q)(n)},hide:u,RenderModal:function(e){var n=e.children;return a.createElement(a.Fragment,null,c&&a.createElement(t,{contentWidth:"100%",hasPadding:!1,modalClassName:i()(r.modal,r.external),onClose:u,size:"l"},n))}}}},93578:function(e,t,n){n.d(t,{h:function(){return ne}});var a=n(87462),r=n(67294),i=n(94184),l=n.n(i),o=n(57208),c=n(23279),s=n.n(c),u=n(90741),d=n(51217),m=n(41609),f=n.n(m),p=n(45761),h=n(88959),v=n(67417),y=n(96499),g=n(11062),b=(0,p.A)({Carousel:v.A,Text:h.x,Block:y.z,Img:g.E,styles:{cardContainer:"a38UO",external:"b38UO",block:"c38UO",selectedCard:"d38UO",title:"e38UO",header:"f38UO",textBlock:"g38UO",textTruncateTwoLines:"h38UO",textTruncateOneLine:"i38UO",headerImg:"j38UO",description:"k38UO",cardCarouselWrapper:"l38UO"}})((function(e){var t=e.Block,n=e.Carousel,a=e.Img,i=e.Text,o=e.className,c=e.currentOption,s=e.onSelectProgram,u=e.options,d=e.styles,m=e.title;return r.createElement("div",{className:l()(o,d.cardContainer)},r.createElement(i,{className:l()(d.external,d.title),fontSize:20,fontWeight:600,tag:"h2"},m),r.createElement(n,{className:l()(d.external,d.cardCarouselWrapper)},null==u?void 0:u.map((function(e){var n;return r.createElement(t,{key:e.label,className:l()(d.external,d.block,(n={},n[d.selectedCard]=c.id===e.id,n)),fullHeight:!0,onClick:function(){s(e.id.toString())}},r.createElement("div",{className:d.header},r.createElement("div",{className:d.textBlock},r.createElement(i,{className:l()(d.external,d.textTruncateTwoLines),fontWeight:600,styler:{margin:0},view:"component"},e.label),e.subLabel&&r.createElement(i,{className:l()(d.external,d.textTruncateOneLine),lines:1,styler:{margin:0},view:"component"},e.subLabel)),e.link&&r.createElement(a,{alt:"program icon",className:d.headerImg,src:e.link})),e.hintText&&r.createElement(i,{className:l()(d.external,d.description),kind:"caption",view:"primary-small"},e.hintText))}))))})),x=n(81943),C=n(71483),S=(0,p.A)({Caption:C.Y,Select:x.P,styles:{customSelect:"acKmq"}})((function(e){var t=e.Caption,n=e.Select,a=e.className,i=e.currentOption,l=e.onSelectFocus,o=e.onSelectProgram,c=e.options,s=e.placeholder,u=e.styles,d=e.title;return r.createElement("div",{className:a},r.createElement("div",{className:u.customSelect},r.createElement(n,{dataTestId:"program-select",name:"program",onFocus:l,onSelect:function(e){return null==o?void 0:o(e.id.toString())},options:c,placeholder:s,readOnly:!0,value:i.label})),r.createElement(t,{size:"s",styler:{marginTop:4},theme:"white"},d))})),k=n(9895),w=n(11401),T=n(40142),E=n(2154),R=n(94828),D=n(68018),N=n(74173),M=(0,p.A)({Link:w.r,Modal:T.g,Icon:E.q,Text:h.x,styles:{stickyResult:"a2Oqc",open:"b2Oqc",show:"c2Oqc",close:"d2Oqc",hide:"e2Oqc",row:"f2Oqc",option:"g2Oqc",value:"h2Oqc"}})((function(e){var t,n=e.Icon,a=e.Link,i=e.Modal,o=e.Text,c=e.controlsRef,s=e.creditSum,u=e.creditTerm,m=e.interestRate,f=e.offerRef,p=e.styles,h=e.taxDeduction,v=e.taxDeductionHintText,y=void 0===v?N.B5:v,g=e.taxDeductionLinkText,b=void 0===g?N.FR:g,x=e.taxDeductionUrl,C=void 0===x?N.lt:x,S=e.taxDeductionVisible,k=(0,r.useState)(!1),w=k[0],T=k[1],E=(0,r.useRef)(null),M=function(e){var t=e.controlsRef,n=e.offerRef,a=e.stickyResultRef,i=(0,r.useState)(!1),l=i[0],o=i[1];return(0,r.useEffect)((function(){var e=function(){var e=t.current,r=n.current,i=a.current;if(e&&r&&i){var l=document.documentElement,c=l.clientHeight,s=l.clientWidth,u=window.pageYOffset+c,d=(null==e?void 0:e.offsetTop)+(null==e?void 0:e.clientHeight)+i.clientHeight,m=i.clientHeight+(null==r?void 0:r.offsetTop);if(!(s>=320&&s<=360))return void o(!1);o(!(d>u||u>m))}};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[t,n,a]),l}({stickyResultRef:E,offerRef:f,controlsRef:c});return r.createElement(r.Fragment,null,r.createElement("div",{ref:E,className:l()(p.stickyResult,(t={},t[p.open]=M,t[p.close]=!M,t)),"data-test-id":"mortgage-program-calculator-sticky-result"},r.createElement("div",{className:p.row},r.createElement("span",{className:p.option},"Ставка"),r.createElement("span",{className:p.value},(0,d.o)(m,{withSpace:!1}))),r.createElement("div",{className:p.row},r.createElement("span",{className:p.option},"Срок"),r.createElement("span",{className:p.value},(0,D.B)(u))),r.createElement("div",{className:p.row},r.createElement("span",{className:p.option},"Сумма кредита"),r.createElement("span",{className:p.value},(0,R.l)(s))),r.createElement("div",{className:p.row},r.createElement("span",{className:p.option},"Налоговый вычет",S&&r.createElement(n,{"data-test-id":"mortgage-program-calculator-sticky-offer-icon",height:"11px",onClick:function(){T(!0)},style:{marginLeft:4},width:"11px"})),r.createElement("span",{className:p.value},(0,R.l)(h)))),S&&r.createElement(i,{isVisible:w,onClose:function(){T(!1)}},r.createElement(r.Fragment,null,r.createElement(o,{styler:{marginTop:0,marginBottom:16,marginLeft:16,marginRight:16},view:"primary-medium"},y," ",r.createElement(a,{href:C},b)))))})),P=n(85970),F=n(63366),O=["checked","compatibilities","delta","incompatibilities","visible"],L=function(e){var t=e.lowRateChecked,n=e.program,a=e.sales,r=e.salesValues,i=Object.keys(a),l=Object.fromEntries(i.map((function(e){return[e,Object.assign({},r[e])]})));return i.forEach((function(e){i.forEach((function(r){e!==r&&!a[e].compatibilities.includes(r)&&Object.keys(n.sales).includes(e)&&l[e].checked&&(l[r].disabled=!0,l[r].checked&&(l[r].checked=!1)),Object.keys(n.sales).includes(e)||(l[e].checked=!1,a[e].compatibilities.includes(r)||(l[r].disabled=!1)),t&&(l[r].disabled=!0)}))})),l},A=n(94578),I=n(24136),V=function(e){function t(){return e.apply(this,arguments)||this}return(0,A.Z)(t,e),t.prototype.handle=function(t){var n=t.creditSum,a=t.creditTerm,r=t.estateCost,i=t.initialFee,l=t.initialFeeMax,o=t.initialFeeMin,c=t.initialFeeMinPercents,s=t.initialFeePercents,u=t.interestRate,d=t.interestRateWithoutSaleDelta,m=t.monthlyPayment,f=t.mountlyPaymentWithoutSaleDelta,p=t.taxDeduction;return e.prototype.handle.call(this,{creditSum:n,creditTerm:a,estateCost:r,initialFee:i,initialFeeMax:l,initialFeeMin:o,initialFeeMinPercents:c,initialFeePercents:s,interestRate:u,interestRateWithoutSaleDelta:d,monthlyPayment:m,mountlyPaymentWithoutSaleDelta:f,taxDeduction:p})},t}(I._),j=function(e){function t(){return e.apply(this,arguments)||this}return(0,A.Z)(t,e),t.prototype.handle=function(t){var n,a=t.creditSum,r=t.discountRate,i=t.isLowRateChecked,l=t.lowRate,o=t.lowRateCost,c=t.program.subPrograms,s=t.programRate;return null!=c&&null!=(n=c.lowRate)&&n.active?c.lowRate.active&&i?e.prototype.handle.call(this,Object.assign({},t,{creditSum:a+a*o,interestRate:l,interestRateWithoutSaleDelta:s})):e.prototype.handle.call(this,Object.assign({},t,{interestRate:s+r,interestRateWithoutSaleDelta:s})):e.prototype.handle.call(this,t)},t}(I._),Z=n(44810),_=function(e){return+(.01*e).toFixed(4)},B=function(e){var t=e.fieldValues,n=e.initialFeeMinPercents,a=e.program;return"estateCost"===t.changedField?function(e){var t=e.fieldValues,n=t.creditTerm,a=t.estateCost,r=e.initialFeeMinPercents,i=e.program,l=Math.round(a-i.creditSumMax);return{creditSum:a-l,initialFee:l,initialFeePercents:l/a*100,estateCost:a,initialFeeMin:a*_(r),initialFeeMax:a-i.creditSumMin,initialFeeMinPercents:r,creditTerm:n}}({initialFeeMinPercents:n,fieldValues:t,program:a}):function(e){var t=e.fieldValues,n=t.creditTerm,a=t.initialFee,r=e.initialFeeMinPercents,i=e.program,l=Math.round(i.creditSumMax+a);return{creditSum:i.creditSumMax,estateCost:l,initialFeePercents:a/l*100,initialFeeMin:l*_(r),initialFeeMax:l-i.creditSumMin,initialFee:a,creditTerm:n,initialFeeMinPercents:r}}({initialFeeMinPercents:n,fieldValues:t,program:a})},H=function(e){var t=e.creditTermMax,n=e.creditTermMin,a=e.fieldValues,r=e.program,i=e.salesValues,l=r.creditSumMax,o=r.creditSumMin,c=r.estateCostMax,s=r.estateCostMin,u=r.rates,d=r.sales,m=r.salesParticular,f=void 0===m?null:m,p=(0,P.yp)(a.estateCost,s,c),h=(0,P.yp)(a.creditTerm,n,t),v=f?function(e,t,n){void 0===n&&(n={});var a=Object.keys(n).filter((function(e){return t[e].checked}));return e.filter((function(e){return a.includes(e.sales)}))}(f,i,d):[],y=v&&v.length?v:u,g=(0,P.M2)(y),b=p*_(g),x=p-o,C=(0,P.yp)(a.initialFee,b,x),S=p-C,k=C/p*100;return S>l?B({initialFeeMinPercents:g,fieldValues:a,program:r}):{estateCost:Math.round(p),initialFee:Math.round(C),initialFeePercents:k,initialFeeMinPercents:g,initialFeeMin:Math.round(b),initialFeeMax:x,creditSum:S,creditTerm:h}},z=function(e){function t(){return e.apply(this,arguments)||this}return(0,A.Z)(t,e),t.prototype.handle=function(t){var n=t.creditTermMax,a=t.creditTermMin,r=t.fieldValues,i=t.isLowRateChecked,l=t.program,o=t.sales,c=t.salesValues,s=H({creditTermMax:n,creditTermMin:a,fieldValues:r,salesValues:c,program:l}),u=s.creditSum,d=s.initialFeePercents,m=l.rates,f=l.subPrograms,p=f?function(e){var t=e.creditSum,n=e.subPrograms;return Object.keys(n).reduce((function(e,a){var r=n[a];return r.active&&t>=r.creditSumLimit?e?r.default?r:e:r:e}),null)}({creditSum:u,subPrograms:f}):null,h=p?function(e){var t=e.activeSubProgram,n=e.initialFeePercents,a=_((0,P.AM)(n,t.rates.filter((function(e){return n>=e.initialFee}))));return a>0?a:P.Qj}({activeSubProgram:p,initialFeePercents:d}):P.Qj,v=_((0,P.AM)(d,m)),y=h!==P.Qj,g=o?_(o.reduce((function(e,t){var n,a=null==p||null==(n=p.relation)?void 0:n.includes(t.saleId);return y&&!a||!t.checked?e:e+t.delta}),0)):0,b=y?h:v,x=b+g;return e.prototype.handle.call(this,Object.assign({},t,s,{creditSum:u,interestRate:x,interestRateWithoutSaleDelta:b,isLowRateChecked:i,programRate:v,discountRate:g}))},t}(I._),W=function(e){function t(){return e.apply(this,arguments)||this}return(0,A.Z)(t,e),t.prototype.handle=function(t){var n=t.creditSum,a=t.creditTerm,r=t.estateCost,i=t.maxTaxDeductionFromEstate,l=t.maxTaxDeductionFromInterest,o=t.monthlyPayment,c=t.personalIncomeTax,s=a*P.e7,u=_(c),d=Math.round(Math.min(r*u,i)+Math.min((o*s-n)*u,l));return e.prototype.handle.call(this,Object.assign({},t,{taxDeduction:d}))},t}(I._),U=new z,q=new j,Y=new Z.d,X=new W,K=new V;U.setNext(q).setNext(Y).setNext(X).setNext(K);var Q=U.handle.bind(U),J="Калькулятор ипотеки",G=function(e){return e?J+" - "+e:J},$=function(e){var t=this,n=e.fields,a=e.program,r=e.sales;this.program=void 0,this.fields=void 0,this.sales=void 0,this.getFieldAnalytics=function(e){var n,a=e.action,r=void 0===a?"Slider":a,i=e.fieldName,l=e.value,o=t.fields[i];return(n={event:"gtm_interaction_event",action:r,block:G(t.program.label),label_detail:o.label})[o.analyticsParameter]=l,n},this.getMountlyPaymentAnalytics=function(e){return{event:"gtm_interaction_event",action:"Click",block:G(t.program.label),label_detail:"inc"===e?"Увеличить ежемесячный платеж":"Уменьшить ежемесячный платеж"}},this.getSalesAnalytics=function(e){var n,a=e.fieldName,r=e.value,i=t.sales[a];return(n={event:"gtm_interaction_event",action:"Check",block:G(t.program.label),label_detail:i.label})[i.analyticsParameter]=r,n},this.getSelectProgramAnalytics=function(e){var n=e.name,a=e.type;return{event:"gtm_interaction_event",action:a,block:"Click"===a||"Choice"===a?G():G(t.program.label),label_detail:"Click"===a?"Тип программы":"Тип программы - "+n}},this.getSelectDeveloperAnalytics=function(){return{event:"gtm_interaction_event",action:"Click",block:G(),label_detail:"Скидка от застройщика - Применить"}},this.getChangeDeveloperAnalytics=function(e){var t=e.developer,n=e.value;return{event:"gtm_interaction_event",action:"Check",block:G(),label_detail:"Скидка от застройщика - "+t,extra_conditions:n}},this.getClickOnAccordeon=function(){return{event:"gtm_interaction_event",action:"Click",block:J,label_detail:"Все параметры кредита"}},this.getViewAccordeon=function(){return{event:"gtm_non_interaction_event",action:"View",block:J,label_detail:"Все параметры кредита"}},this.getSubmitFormAnalytics=function(e){var n=e.resultData,a=e.salesValues,r=Object.keys(a).reduce((function(e,n){return e[t.sales[n].analyticsParameter]=a[n].checked,e}),{}),i=Object.keys(t.fields).reduce((function(e,a){return e[t.fields[a].analyticsParameter]=n[a],e}),{});return Object.assign({event:"gtm_interaction_event",action:"Click",block:G(t.program.label),label_detail:"Заполнить заявку",property_type:t.program.label,monthly_payment:n.monthlyPayment,ymEvent:{params:"Ipoteka_calculator_click"}},r,i)},this.program=a,this.fields=n,this.sales=r},ee=s()(u.q,500),te=s()(P.Ch,500),ne=function(e){var t,n,i,c=e.Controls,s=e.Offer,m=e.LowRateInfo,p=e.LowRateModal,h=e.Sales,v=e.Text,y=e.Banner,g=e.calculatorTitle,x=e.calcView,C=void 0===x?"white":x,w=e.clearValue,T=void 0!==w&&w,E=e.creditTerm,R=e.defaultProgram,D=e.estateCost,A=e.hasOfferTitle,I=e.initialFee,V=e.isMobile,j=e.isMainPage,Z=void 0!==j&&j,_=e.partnerEstateDeveloper,B=e.paymentPlan,H=e.programs,z=e.lowRateInfo,W=e.sales,U=void 0===W?P.xR:W,q=e.showStickyOffer,Y=e.styles,X=e.submitButtonText,K=void 0===X?N.Bb:X,J=e.submitButtonUrl,G=void 0===J?N.xq:J,ne=e.taxDeduction,ae=e.isVisibleDiscount,re=void 0!==ae&&ae,ie=e.banner,le=e.showRate,oe=void 0===le||le,ce=e.programsAsCards,se=e.calcWithPsk,ue=(0,r.useRef)(null),de=(0,r.useRef)(null),me=(0,r.useState)((0,P.EG)(R,H)),fe=me[0],pe=me[1],he=(0,r.useState)({estateCost:D.value,initialFee:I.value,creditTerm:E.value}),ve=he[0],ye=he[1],ge=(0,r.useState)(function(e){var t=e.sales;return Object.assign({},Object.fromEntries(Object.entries(t).map((function(e){return[e[0],{checked:e[1].checked,disabled:!1}]}))))}({sales:U})),be=ge[0],xe=ge[1],Ce=(0,r.useState)({}),Se=Ce[0],ke=Ce[1],we=(0,k.i)(null==fe||null==(t=fe.subPrograms)?void 0:t.lowRate),Te=(0,r.useMemo)((function(){return new $({fields:{estateCost:D,initialFee:I,creditTerm:E},program:fe,sales:U})}),[fe,D,I,E,U]),Ee=(0,r.useMemo)((function(){return function(e){var t=e.initialFeePercents,n=e.program;return Object.fromEntries(Object.keys(n.sales).map((function(e){var a=(0,P.AM)(t,n.rates);return[e,+((0,P.AM)(t,n.sales[e].rates)-a).toFixed(2)]})))}({program:fe,initialFeePercents:Se.initialFeePercents})}),[fe,Se.initialFeePercents]),Re=function(e){pe(Object.assign({},H[e],{id:e})),ye((function(e){return Object.assign({},e,{changedField:"estateCost"})})),ee(Te.getSelectProgramAnalytics({name:H[e].label,type:"Choice"}))};(0,r.useEffect)((function(){var e=new o.x({id:P.x2}).getAll();e&&ye({creditTerm:Number(e.creditTerm),estateCost:Number(e.estateCost),initialFee:Number(e.initialFee)})}),[]),(0,r.useEffect)((function(){xe((function(e){return L({program:fe,sales:U,salesValues:e,lowRateChecked:we.lowRateChecked})}))}),[fe,U,we.lowRateChecked]),(0,r.useEffect)((function(){var e=Q({creditTermMax:E.max,creditTermMin:E.min,fieldValues:ve,maxTaxDeductionFromEstate:ne.maxTaxDeductionFromEstate,maxTaxDeductionFromInterest:ne.maxTaxDeductionFromInterest,personalIncomeTax:ne.personalIncomeTax,program:fe,sales:Object.keys(fe.sales).map((function(e){var t;return Object.assign({},U[e],{delta:Ee[e],checked:null==(t=be[e])?void 0:t.checked,saleId:e})})),salesValues:be,isLowRateChecked:we.lowRateChecked,lowRateCost:we.cost,lowRate:we.rate});ke(e),te({calculatedValues:e,program:fe,sales:be})}),[fe,be,ne,ve,E.max,E.min,Ee,we.lowRateChecked,we.cost,we.rate,U]);var De=(0,r.useMemo)((function(){return(0,P.nS)(H,R,ce)}),[H,R,ce]),Ne=(0,r.useMemo)((function(){return function(e){var t=e.program,n=e.sales;return Object.keys(n).filter((function(e){return n[e].visible&&Object.keys(t.sales).includes(e)})).map((function(e){var t=n[e],a=(t.checked,t.compatibilities,t.delta,t.incompatibilities,t.visible,(0,F.Z)(t,O));return Object.assign({id:e},a)}))}({program:fe,sales:U})}),[fe,U]),Me=we.lowRateChecked&&z,Pe=(0,r.useMemo)((function(){return(0,d.o)(Se.interestRateWithoutSaleDelta,{withSpace:!1})}),[Se.interestRateWithoutSaleDelta]),Fe=(0,r.useMemo)((function(){return(0,d.o)(Se.interestRate,{withSpace:!1})}),[Se.interestRate]),Oe=(0,r.useCallback)((function(e){return parseFloat(e.replace("%","").replace(",","."))}),[]),Le=Oe(Fe)<Oe(Pe);return r.createElement(k.C.Provider,{value:we},g&&r.createElement(v,{className:l()(Y.calculatorTitle,Y.external),styler:{marginLeft:24,marginRight:24},view:"small"},g),r.createElement("div",{className:l()(Y.calculatorContainer,(n={},n[Y.mainPageCalculatorContainer]=V&&Z,n[Y.greyViewContainer]="grey"===C,n))},r.createElement("div",{className:l()(Y.controls,(i={},i[Y.mainPageControls]=V&&Z,i))},V&&ie&&r.createElement(y,(0,a.Z)({className:l()(Y.external,Y.horizonatalMargin)},ie)),V&&ce?r.createElement(b,{currentOption:fe,onSelectProgram:Re,options:De,title:"Выберите программу"}):r.createElement(S,{className:l()(Y.external,Y.horizonatalMargin),currentOption:fe,onSelectFocus:function(){(0,u.q)(Te.getSelectProgramAnalytics({type:"Click"}))},onSelectProgram:Re,options:De,placeholder:"Тип программы",title:"Выберите программу ипотеки"}),r.createElement("div",{ref:de,className:l()(Y.external,Y.horizonatalMargin)},r.createElement(c,{clearValue:T,creditTerm:E,estateCost:D,fieldValues:ve,increaseDecreaseControlHandle:function(e){var t=e.name,n=e.step,a=Se[t]+n;ye((function(e){var n;return Object.assign({},e,(0,P.Ou)(Se),((n={})[t]=a,n.changedField=t,n))})),ee(Te.getFieldAnalytics({fieldName:t,value:a}))},initialFee:I,program:fe,resultData:Se,universalControlHandle:function(e){var t=e.name,n=e.type,a=e.value;ye((function(e){var n;return Object.assign({},e,(0,P.Ou)(Se),((n={})[t]=a,n.changedField=t,n))})),ee(Te.getFieldAnalytics({fieldName:t,value:a,action:n}))}})),!f()(U)&&r.createElement(h,{analytics:{changeDeveloper:Te.getChangeDeveloperAnalytics,changeSales:Te.getSalesAnalytics,selectDeveloper:Te.getSelectDeveloperAnalytics},className:l()(Y.external,Y.horizonatalMargin),isVisibleDiscount:re,onChangeSale:function(e){var t=e.name,n=e.value;xe((function(e){var a=function(e){var t=e.checkedSale,n=e.sales,a=e.salesValues;return Object.fromEntries(Object.entries(a).map((function(e){var a=e[0],r=e[1],i=r.checked,l=r.disabled;if(a===t.name)return[a,{checked:t.value,disabled:l}];var o=n[a].compatibilities.includes(t.name),c=!t.value;return o||c?[a,{checked:i,disabled:!1}]:[a,{checked:!1,disabled:!0}]})))}({checkedSale:{name:t,value:n},sales:U,salesValues:e});return L({program:fe,sales:U,salesValues:a,lowRateChecked:we.lowRateChecked})}))},partnerEstateDeveloperData:_,sales:U,salesDeltaForProgram:Ee,salesOptions:Ne,salesValues:be}),Me&&r.createElement(m,z)),r.createElement("div",{ref:ue,className:l()(Y.horizonatalMargin,Y.external,Y.result)},r.createElement(s,{analytics:{onClickAccordion:Te.getClickOnAccordeon,onViewAccordionData:Te.getViewAccordeon},calcView:C,calcWithPsk:se,creditSum:Se.creditSum,creditTerm:ve.creditTerm,creditTermMax:E.max,creditTermMin:E.min,estateCost:ve.estateCost,hasOfferTitle:A,initialFee:ve.initialFee,interestRate:Se.interestRate,interestRateWithoutSaleDelta:Se.interestRateWithoutSaleDelta,isMainPage:Z,isNewRateLower:Le,isRateShown:oe,monthlyPayment:Se.monthlyPayment,onClickSubmit:function(){(0,u.q)(Te.getSubmitFormAnalytics({salesValues:be,resultData:Se}))},onDecreaseCreditTerm:function(){ye((function(e){return Object.assign({},e,(0,P.Ou)(Se),{creditTerm:e.creditTerm-1,changedField:"creditTerm"})})),ee(Te.getMountlyPaymentAnalytics("dec"))},onIncreaseCreditTerm:function(){ye((function(e){return Object.assign({},e,(0,P.Ou)(Se),{creditTerm:e.creditTerm+1,changedField:"creditTerm"})})),ee(Te.getMountlyPaymentAnalytics("inc"))},paymentPlanData:B,pskHint:fe.pskHint,pskText:fe.pskText,submitButtonText:K,submitButtonUrl:G,taxDeduction:Se.taxDeduction,taxDeductionHintText:ne.hintText,taxDeductionLinkText:ne.linkText,taxDeductionUrl:ne.url,taxDeductionVisible:ne.visible})),q&&V&&r.createElement(M,{className:l()(Y.calculatorTitle,Y.external),controlsRef:de,creditSum:Se.creditSum,creditTerm:Se.creditTerm,interestRate:Se.interestRate,offerRef:ue,taxDeduction:Se.taxDeduction,taxDeductionHintText:ne.hintText,taxDeductionLinkText:ne.linkText,taxDeductionUrl:ne.url,taxDeductionVisible:ne.visible}),we.isVisibleLowRateModal&&r.createElement(p,{creditSum:Se.creditSum,creditTerm:Se.creditTerm,interestRate:Se.interestRateWithoutSaleDelta})))}},48830:function(e,t,n){n.d(t,{$:function(){return i}});var a=n(67294),r=function(e){var t=e.children;return a.createElement(a.Fragment,null,t)};r.displayName="NamedContainer",r.defaultProps={is:"NamedContainer"};var i=r},72459:function(e,t,n){n.d(t,{KT:function(){return i}});var a=n(75963),r=function(e){return function(t,n,a){return void 0===n&&(n=""),e(t,a)?t.error||t.submitError:n}},i=r(a.VZ);r(a.Di),r(a.zy)},75963:function(e,t,n){n.d(t,{VZ:function(){return i},Di:function(){return o},zy:function(){return c}});var a=n(14512),r=8,i=function(e){var t=e.active,n=e.dirtySinceLastSubmit,a=e.error,r=e.submitError,i=e.touched;return!t&&(a?i:!!r&&!n)},l=function(e){return function(t,n){var r=t.active,i=t.dirtySinceLastSubmit,l=t.error,o=t.submitError,c=t.touched;return(0,a.L)(n).length===e&&l?r||c:l?c:!!o&&!i}},o=l(11),c=l(r)},14512:function(e,t,n){n.d(t,{L:function(){return a}});var a=function(e){return e?e.toString().replace(/\D+/g,""):""}},55524:function(e,t,n){n.d(t,{o:function(){return r}});var a=n(14478),r=function(e){return void 0===e&&(e="Поле обязательно для заполнения"),function(t){return(0,a.G)(t,e)}}},14478:function(e,t,n){n.d(t,{A:function(){return r},G:function(){return i}});var a=void 0,r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return void 0===n&&(n={}),t.reduce((function(t,a){return t||a(e,n)}),a)}},i=function(e,t,n){return void 0===t&&(t=""),(e?String(e).trim():void 0)?a:n||t}},22942:function(e,t,n){n.d(t,{f:function(){return p}});var a=n(67294),r=n(94184),i=n.n(r),l=n(94369),o=n(14512),c={paymentConsider:{analytics:{},label:"Учесть досрочное погашение",value:!1},paymentAmount:{analytics:{},placeholder:"Сумма",caption:"Без учёта платежа в месяц",value:""},paymentType:{analytics:{},placeholder:"Хочу уменьшить",caption:"",options:[{id:"payment",label:"Платёж в месяц"},{id:"term",label:"Срок ипотеки"}]},paymentPeriod:{analytics:{},placeholder:"Буду вносить",caption:"",options:[{id:"once_year",label:"Раз в год"},{id:"once_half_year",label:"Раз в полгода"},{id:"once_quarter",label:"Раз в квартал"},{id:"once_month",label:"Раз в месяц"}]},paymentAddButton:{analytics:{},label:"Добавить"},removeTransactions:{analytics:{},label:"удалить досрочное погашение"}},s=n(90741),u=function(e){var t,n=e.options,a=e.value;return null==(t=n.find((function(e){return e.label===a})))?void 0:t.id};var d=function(e){var t=e.analytics,n=e.detail;t&&(n?(0,s.q)(Object.assign({},t,{label_detail:n})):(0,s.q)(t))},m=function(e,t){return function(n){var a,r,i=n.event,l=n.value,c=(0,o.L)(l);!function(e){return RegExp("^[1-9]{1}[0-9]{0,8}$").test(e)}(c)&&""!==c?(a=i.target,r=a.selectionStart-1,window.requestAnimationFrame((function(){a.selectionStart=r,a.selectionEnd=r}))):(e.onChange(c),d({analytics:t}))}},f=[],p=function(e){var t,n,r,s,p,h,v,y,g,b=e.amountValueMaxForPayment,x=e.amountValueMaxForTerm,C=e.Button,S=e.CheckboxField,k=e.DataLayer,w=e.Select,T=e.useForm,E=e.useField,R=e.isError,D=e.composeValidators,N=e.getCaption,M=e.formatMoney,P=e.Input,F=e.fields,O=void 0===F?c:F,L=e.economyTextDesktop,A=void 0===L?"Вы сэкономите за весь срок":L,I=e.economyTextMobile,V=void 0===I?"Вы сэкономите":I,j=e.confirmText,Z=void 0===j?"Если измените, предыдущии настройки будут сброшены":j,_=e.economyAmount,B=void 0===_?0:_,H=e.transactions,z=e.onRemoveAllTransaction,W=e.onAddTransaction,U=e.isDesktop,q=e.styles,Y=e.validateNotEmpty,X=e.className,K=(0,a.useState)(O.paymentConsider.value),Q=K[0],J=K[1],G=(0,a.useCallback)((function(e){var t,n,a;return(n={analytics:null==(t=O[e.input.name])?void 0:t.focus},a=n.analytics,function(e){return function(){e.input.onFocus(),d({analytics:a})}})(e)}),[]),$=T({onSubmit:function(){var e,t,n,a=ne.paymentAmount,r=ne.paymentPeriod,i=ne.paymentType;W({amountValue:(n=a,Array.from(n).filter((function(e){return" "!==e})).join("")),periodValue:u({options:O.paymentPeriod.options,value:r}),typeValue:u({options:O.paymentType.options,value:i}),id:Date.now()}),d({analytics:null==(e=O.paymentAddButton)||null==(t=e.analytics)?void 0:t.send}),ee.resetFieldState("paymentAmount"),ee.resetFieldState("paymentPeriod"),setTimeout((function(){ee.reset({paymentType:i})}))}}),ee=$.form,te=$.handleSubmit,ne=$.values,ae=E("paymentType",ee,Y()),re=E("paymentPeriod",ee,Y()),ie=E("paymentAmount",ee,D(Y(),(g=ae.input.value,function(){if(""===g)return"Сначала выберите тип погашения"}),(function(e){var t=Array.from(e).filter((function(e){return" "!==e}));if(t.filter((function(e){return parseInt(e,10)||"0"===e})).length!==t.length)return"Введите целое число"}),(y=1e3,function(e){if(parseInt(e,10)<y)return"Введите число больше "+(0,l.B)(y)}),(v=function(e){var t=e.amountValueMaxForPayment,n=e.amountValueMaxForTerm,a=e.options,r=e.value,i=u({options:a,value:r});return"payment"===i?t:"term"===i?n:0}({options:O.paymentType.options,value:ae.input.value,amountValueMaxForPayment:b,amountValueMaxForTerm:x}),function(e){if(parseInt(e,10)>v)return"Введите число меньше "+(0,l.B)(v)})));return a.createElement("div",{className:i()(q.wrapper,X),"data-test-id":"payment-plan-early-payment"},a.createElement(S,{className:i()(q.consider,q.external),dataTestId:"payment-plan-early-payment-consider",label:O.paymentConsider.label,name:"reinvest",onChange:function(e){var t,n;J(e.value),e.value?f.forEach(W):(f=H,z()),d({analytics:null==(t=O.paymentConsider)||null==(n=t.analytics)?void 0:n.change})},value:Q}),Q&&a.createElement(a.Fragment,null,a.createElement("form",{noValidate:!0,onSubmit:te},a.createElement("div",{className:q.fields},a.createElement("div",{className:i()(q.field,q.paymentTypeField)},a.createElement(w,{caption:null==(t=O.paymentType)?void 0:t.caption,dataTestId:"payment-plan-early-payment-type",error:R(ae.meta),onBlur:function(e){var t=e.event;ae.input.onChange(t),ae.input.onBlur()},onSelect:function(e){var t,n,a,r,i=e.label;(null==H?void 0:H.length)>0?confirm(Z)&&(z(),ae.input.onChange(i),d({analytics:null==(t=O.paymentType)||null==(n=t.analytics)?void 0:n.change,detail:"Уменьшить-"+i})):(ae.input.onChange(i),d({analytics:null==(a=O.paymentType)||null==(r=a.analytics)?void 0:r.change,detail:"Уменьшить-"+i}))},options:O.paymentType.options,placeholder:O.paymentType.placeholder,value:ae.input.value})),a.createElement("div",{className:q.field},a.createElement(w,{caption:null==(n=O.paymentPeriod)?void 0:n.caption,dataTestId:"payment-plan-early-payment-period",error:R(re.meta),onBlur:function(e){var t=e.event;ae.input.onChange(t),re.input.onBlur()},onSelect:function(e){var t,n,a=e.label;re.input.onChange(a),d({analytics:null==(t=O.paymentPeriod)||null==(n=t.analytics)?void 0:n.change,detail:"Период-"+a})},options:O.paymentPeriod.options,placeholder:O.paymentPeriod.placeholder,value:re.input.value})),a.createElement("div",{className:i()(q.field,q.amountInput)},a.createElement(P,{caption:N(ie.meta,O.paymentAmount.caption),dataTestId:"payment-plan-early-payment-amount",error:R(ie.meta),onBlur:function(e){var t=e.event;ie.input.onChange((0,o.L)(t.target.value)),ie.input.onBlur()},onChange:m(ie.input,null==(r=O.paymentAmount)||null==(s=r.analytics)?void 0:s.change),onFocus:G(ie),placeholder:O.paymentAmount.placeholder,value:(0,l.B)(ie.input.value)})),a.createElement("div",{className:q.field},a.createElement(k,{data:null==(p=O.paymentAddButton)||null==(h=p.analytics)?void 0:h.click,tag:null},a.createElement(C,{block:!0,borderRadius:8,dataTestId:"payment-plan-early-payment-button",hasAnimation:!0,innerClassName:i()(q.addButton,q.external),type:"submit",view:"primary"},O.paymentAddButton.label))))),(null==H?void 0:H.length)>0&&a.createElement("div",{className:i()(q.economyCommon,q.economy),"data-test-id":"payment-plan-early-payment-economy"},a.createElement("p",{className:q.economyText},U?A:V),a.createElement("p",null,a.createElement("span",{className:q.economyAmount},M(B))),a.createElement("button",{className:i()(q.trashButton,q.trashButtonCommon),"data-test-id":"payment-plan-remove-transactions",onClick:function(){var e,t;z(),d({analytics:null==(e=O.removeTransactions)||null==(t=e.analytics)?void 0:t.click})},type:"button"},a.createElement("img",{alt:O.removeTransactions.label,className:q.trashIcon,src:"//alfabank.st/icons/glyph_trash-can_m.svg",width:"24px"})))))}},64224:function(e,t,n){n.d(t,{i:function(){return l}});var a=n(67294),r=n(94184),i=n.n(r),l=function(e){var t=e.className,n=e.columns,r=e.sticky,l=e.styles,o=e.tableSource;return a.createElement("div",{className:i()(l.tableContainer,t)},a.createElement("div",{className:i()(l.head,r&&l.stickyHead)},a.createElement("div",{className:l.headContent},a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,n.map((function(e){var t,n=e.primary,r=e.title,o=e.width;return a.createElement("th",{key:r,className:i()(l.headCell,(t={},t[l.primaryHeadCell]=n,t)),"data-test-id":"payment-plan-table-head-cell",style:{width:o}},r)}))))))),a.createElement("div",{className:l.body},a.createElement("table",null,o.map((function(e){var t=e.data,r=e.groupTitle,o=e.key;return a.createElement("tbody",{key:o},r?a.createElement("tr",{className:l.groupTitleRow},a.createElement("th",{colSpan:n.length+2},r)):null,t.map((function(e){return a.createElement("tr",{key:e.key,className:i()(l.row)},a.createElement("td",{className:l.aligningCell}),n.map((function(t){var n,r=t.dataIndex,o=t.primary,c=t.width;return a.createElement("td",{key:r,className:i()(l.cell,(n={},n[l.primaryCell]=o,n)),style:{width:c}},e[r])})),a.createElement("td",{className:l.aligningCell}))})))})))))}},31507:function(e,t,n){n.d(t,{sb:function(){return a},pX:function(){return r},i2:function(){return i},bA:function(){return l}});var a="Скачать график",r="Поверните телефон горизонтально, чтобы увидеть все данные",i="График платежей",l="Приведенный расчет является примерным, для получения более точной информации обратитесь в любое отделение Банка"},18445:function(e,t,n){n.d(t,{V:function(){return o}});var a=n(88959),r=n(45761),i=n(33372),l=n(57767),o=(0,r.A)({styles:l.Z,Text:a.x})(i.V)},33372:function(e,t,n){n.d(t,{V:function(){return c}});var a=n(67294),r=n(94184),i=n.n(r),l=function(){},o={xs:"component-secondary",s:"component",m:"component",l:"primary-large"},c=(0,a.memo)((function(e){var t,n,r,c,s=e.Text,u=e.bordered,d=e.className,m=e.classNames,f=e.dataTestId,p=e.disabled,h=e.forwardedRef,v=e.label,y=e.onClick,g=void 0===y?l:y,b=e.selected,x=e.size,C=void 0===x?"m":x,S=e.styles,k=e.tabIndex,w=e.role,T=e.returnEvent,E=e.allOnclickArguments,R=void 0!==E&&E,D=e.value,N=e.inline,M=e.theme,P=void 0===M?"white":M,F=e.rightAddons,O=e.leftAddons,L=D===b,A=i()(S.tag,S.size,((t={})[S.selected]=L,t[S.hovered]=!L&&!p,t[S.disabled]=p,t[S.withRightAddons]=Boolean(F),t[S.withLeftAddons]=Boolean(O),t),S[C+"Size"],((n={})[S.bordered]=u,n),S[P],m,d),I=i()(S.external,S.text,((r={})[S.selectedText]=L,r));return a.createElement("button",{ref:h,className:A,"data-test-id":f,"data-test-selected":L||void 0,onClick:function(e){R?g(e,D):g(T?e:D)},role:w,tabIndex:k,type:"button"},O?a.createElement("span",{className:S.addons},O):null,a.createElement(s,{className:i()(I,(c={},c[i()(S.block,S.external)]=!N,c)),styler:{margin:0},tag:"span",view:o[C]},v),F?a.createElement("span",{className:S.addons},F):null)}))},95211:function(e,t){t.Z={checkbox:"aL1CZ",checkboxField:"bL1CZ",calcHint:"cL1CZ",delta:"dL1CZ",deltaDiscount:"eL1CZ",deltaIncrease:"fL1CZ",hint:"gL1CZ"}},18641:function(e,t){t.Z={baseline:"a1m2e",bottom:"b1m2e",middle:"c1m2e",top:"d1m2e",defaultKindRadius:"e1m2e",containerKindRadius:"f1m2e",cardKindRadius:"g1m2e",iconKindRadius:"h1m2e",responsive:"i1m2e"}},35906:function(e,t){t.Z={checkbox:"atDCQ",delta:"btDCQ",deltaDiscount:"ctDCQ",deltaIncrease:"dtDCQ",link:"etDCQ",external:"ftDCQ",hint:"gtDCQ"}},50679:function(e,t){t.Z={delta:"a2KOk",button:"b2KOk",external:"c2KOk"}},35749:function(e,t){t.Z={economyCommon:"a3xZR",economyText:"b3xZR",economyAmount:"c3xZR",trashButtonCommon:"d3xZR",trashIcon:"e3xZR"}},57767:function(e,t){t.Z={tag:"a28gX",disabled:"b28gX",addons:"c28gX",withRightAddons:"d28gX",xsSize:"e28gX",sSize:"f28gX",mSize:"g28gX",lSize:"h28gX",withLeftAddons:"i28gX",white:"j28gX",text:"k28gX",external:"l28gX",selected:"m28gX",selectedText:"n28gX",hovered:"o28gX",bordered:"p28gX",lightInverted:"q28gX",size:"r28gX",block:"s28gX"}}}]);
//# sourceMappingURL=54550.16147585.es5.js.map